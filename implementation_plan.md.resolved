# Ä°ngilizce Ã–ÄŸrenme UygulamasÄ± â€” KapsamlÄ± Ä°Ã§erik GeliÅŸtirme PlanÄ±

Bu dokÃ¼man, projenin mevcut durumunun analizi ve Ä°ngilizce Ã¶ÄŸrenme iÃ§eriÄŸine yÃ¶nelik kapsamlÄ± bir geliÅŸtirme yol haritasÄ± sunmaktadÄ±r. KullanÄ±cÄ±nÄ±n 3 temel Ã¶nerisini geniÅŸletip, projenin toplam Ä°ngilizce Ã¶ÄŸretim kalitesini Ã¼st seviyeye taÅŸÄ±yacak ek Ã¶nerilerle birlikte sunulmaktadÄ±r.

---

## ğŸ“Š Mevcut Durum Analizi

| ModÃ¼l | Ä°Ã§erik | DeÄŸerlendirme |
|---|---|---|
| **Kelime Havuzu** | 1000 kelime, 40+ kategori, A1â€“B2 CEFR | âœ… Zengin |
| **Gramer** | 11 konu (A1â€“C2), fill-blank/true-false/writing | âœ… KapsamlÄ± |
| **Okuma** | Sadece 2 kÄ±sa metin | âŒ Ã‡ok yetersiz |
| **Dinleme** | 2 adet placeholder video (Google sample) | âŒ GerÃ§ekÃ§i deÄŸil |
| **CÃ¼mle SÄ±ralama** | 20 cÃ¼mle, drag-drop | âš ï¸ Yeterli ama geniÅŸletilebilir |
| **HÄ±z Testi** | 60 saniyelik 4 seÃ§enekli quiz | âš ï¸ Temel dÃ¼zeyde |
| **SÃ¶zlÃ¼k** | Free Dictionary API + MyMemory Ã§eviri | âœ… Ä°yi |
| **SRS** | SM-2 algoritmasÄ±, localStorage | âœ… Ä°yi |
| **Kelime OyunlarÄ±** | Flashcard, eÅŸleÅŸtirme, bulmaca (scramble) | âš ï¸ Type gÃ¶sterimi yok |

---

## ğŸ¯ GeliÅŸtirme PlanÄ±

---

### 1. ğŸ”¤ Alfabe DoÄŸrulama Sistemi â€” Input Validasyonu

**Ã–neri kaynaÄŸÄ±:** KullanÄ±cÄ± Ã¶nerisi

**Problem:** KullanÄ±cÄ±lar Ä°ngilizce girdi alanlarÄ±na TÃ¼rkÃ§e karakter (Ã§, ÅŸ, ÄŸ, Ä±, Ã¶, Ã¼, Ä°) girebiliyor.

**Ã‡Ã¶zÃ¼m:**

- TÃ¼m Ä°ngilizce kelime input alanlarÄ±na gerÃ§ek zamanlÄ± karakter filtresi eklenmeli
- TÃ¼rkÃ§e karakter girildiÄŸinde inline uyarÄ± gÃ¶sterilmeli (kÄ±rmÄ±zÄ± border + tooltip)
- Kabul edilen karakterler: `a-z A-Z 0-9 - ' . , ? ! " ; : ( )` ve boÅŸluk
- Uygulanacak modÃ¼ller:
  - [vocab.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/vocab.js) â†’ Bulmaca (puzzle) cevap inputu
  - [grammar.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/grammar.js) â†’ Fill-blank ve writing egzersizleri
  - [dictionary.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js) â†’ Arama kutusu
  - [sentence-order.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/sentence-order.js) â†’ Varsa metin giriÅŸi
- YardÄ±mcÄ± fonksiyon `core/utils.js` olarak global bir `validateEnglishInput(value)` fonksiyonu

---

### 2. ğŸ·ï¸ Kelime TÃ¼rÃ¼ (Part of Speech) GÃ¶sterimi

**Ã–neri kaynaÄŸÄ±:** KullanÄ±cÄ± Ã¶nerisi

**Problem:** Kelime tÃ¼rÃ¼ (`type` field) data.js'te mevcut ama oyun arayÃ¼zlerinde gÃ¶sterilmiyor.

**Ã‡Ã¶zÃ¼m â€” Global badge sistemi:**

Her kelimenin yanÄ±na renk kodlu bir etiket (badge) eklenmesi:

| TÃ¼r | Renk | Etiket |
|---|---|---|
| `noun` | ğŸ”µ Mavi | `n.` |
| `verb` | ğŸ”´ KÄ±rmÄ±zÄ± | `v.` |
| `adjective` | ğŸŸ¢ YeÅŸil | `adj.` |
| `other` | ğŸŸ¡ SarÄ± | `oth.` |

**Uygulanacak yerler:**

- **Flashcard** â€” KartÄ±n Ã¶n yÃ¼zÃ¼nde kelime yanÄ±nda
- **EÅŸleÅŸtirme oyunu** â€” Kart Ã¼zerinde kÃ¼Ã§Ã¼k badge
- **Puzzle/Bulmaca** â€” Scramble edilen kelimenin ipucu yanÄ±nda
- **HÄ±z testi** â€” Soru kartÄ±nda kelime yanÄ±nda
- **Kelime arama/browse** â€” SonuÃ§ listesinde
- **SRS tekrar kartlarÄ±** â€” Kart baÅŸlÄ±ÄŸÄ±nda

YardÄ±mcÄ±: `getTypeLabel(type)` ve `getTypeBadgeHTML(type)` â€” `core/utils.js` iÃ§inde

---

### 3. ğŸ”” Seviye Atlama Bildirimi â€” Alert Yerine In-App Notification

**Ã–neri kaynaÄŸÄ±:** KullanÄ±cÄ± Ã¶nerisi

**Problem:** [progress.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/progress.js) satÄ±r 118'de `alert()` kullanÄ±lÄ±yor â€” tarayÄ±cÄ± native alert'i akÄ±ÅŸÄ± kesiyor ve kullanÄ±cÄ±yÄ± zorla durduruyor.

**Ã‡Ã¶zÃ¼m:**

- `alert()` kaldÄ±rÄ±lacak
- Yerine sayfanÄ±n Ã¼st kÄ±smÄ±nda 4 saniye sÃ¼reyle gÃ¶rÃ¼nen, ardÄ±ndan kaybolacak bir toast notification componenti oluÅŸturulacak
- Sitenin renk paletiyle (CSS custom properties: `--accent`, `--bg`, vs.) uyumlu olacak
- Confetti animasyonu zaten `celebrateLevelUp()` ile mevcut â€” onunla senkronize Ã§alÄ±ÅŸacak
- Component: `features/toast.js` â†’ `showToast(message, type, duration)` â€” genel kullanÄ±m

---

### 4. ğŸ“– Okuma ModÃ¼lÃ¼ â€” KapsamlÄ± Analiz ve Yeniden YapÄ±landÄ±rma

---

#### ğŸ“‹ Mevcut Durum Raporu ([reading.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/reading.js) â€” 245 satÄ±r)

**Dosya:** [reading.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/reading.js)

| Ã–zellik | Mevcut Durum |
|---|---|
| Metin sayÄ±sÄ± | **Sadece 2** (ikisi de "BaÅŸlangÄ±Ã§" seviye) |
| Metin baÅŸÄ±na cÃ¼mle | 5 cÃ¼mle |
| Soru sayÄ±sÄ± | Her metin iÃ§in 3 Ã§oktan seÃ§meli |
| Kelime vurgulama | âœ… `vocabMap` ile eÅŸleÅŸen kelimeler mavi renkte |
| Tooltip | âœ… TÄ±klayÄ±nca TÃ¼rkÃ§e anlam (fixed positioning) |
| XP Ã¶dÃ¼lÃ¼ | DoÄŸru cevap baÅŸÄ±na 10 XP |
| Ses desteÄŸi | âŒ Yok |
| Ä°lerleme takibi | âŒ Yok (sonsuz XP kazanÄ±labilir) |
| CEFR seviye | âŒ Yok ("BaÅŸlangÄ±Ã§" etiketi var ama CEFR deÄŸil) |
| Egzersiz Ã§eÅŸitliliÄŸi | âŒ Sadece Ã§oktan seÃ§meli |

---

#### ğŸ” Tespit Edilen Sorunlar (12 Madde)

##### ğŸ—ï¸ Mimari Sorunlar

**1. Veri, Component Ä°Ã§inde Hardcoded**
`readingTexts` dizisi doÄŸrudan [reading.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/reading.js) dosyasÄ±nÄ±n iÃ§inde tanÄ±mlÄ± (satÄ±r 5â€“63). DiÄŸer modÃ¼ller (kelime, gramer, dinleme) verilerini [data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js)'ten import ederken, okuma modÃ¼lÃ¼ bu mimari kalÄ±bÄ± kÄ±rÄ±yor. Bu durum:

- Veri ekleme/gÃ¼ncellemeyi zorlaÅŸtÄ±rÄ±yor
- Metin sayÄ±sÄ± arttÄ±ÄŸÄ±nda dosyayÄ± ÅŸiÅŸirecek
- Metinlerin baÅŸka modÃ¼llerden (Ã¶r. dashboard istatistikleri) referans alÄ±nmasÄ±nÄ± engelliyor

**2. `vocabMap` Sadece Tek Kelime EÅŸleÅŸtirir**

```javascript
// SatÄ±r 68-70
vocabData.forEach(w => {
    vocabMap[w.word.toLowerCase()] = w.meaning;
});
```

`vocabMap` yalnÄ±zca `w.word.toLowerCase()` ile eÅŸleÅŸme yapar. `ice cream`, `wake up`, `go to bed` gibi Ã§ok kelimeli terimler eÅŸleÅŸemez. AyrÄ±ca `w.type` bilgisi map'e eklenmemiÅŸ â€” kelime tÃ¼rÃ¼ tooltip'te gÃ¶sterilemiyor.

**3. Tooltip Positioning HatasÄ±**

```javascript
// SatÄ±r 159-161
tooltip.style.left = `${rect.left + rect.width / 2}px`;
tooltip.style.top = `${rect.top - 38}px`;
```

`getBoundingClientRect()` + `position: fixed` kullanÄ±lÄ±yor. Sayfa scroll edildiÄŸinde tooltip doÄŸru konumda gÃ¶rÃ¼nÃ¼r, ama `top - 38` sabit bir offset â€” uzun kelimeler veya ekranÄ±n Ã¼st kenarÄ±na yakÄ±n kelimeler iÃ§in tooltip ekranÄ±n dÄ±ÅŸÄ±na taÅŸar.

##### ğŸ“š Ä°Ã§erik SorunlarÄ±

**4. Sadece 2 Metin â€” Ã‡ok Yetersiz**
Bir dil Ã¶ÄŸrenme uygulamasÄ±nÄ±n okuma modÃ¼lÃ¼nde minimum 10-15 metin beklenir. 2 metin, ilk kullanÄ±mda tamamlanÄ±p bir daha aÃ§Ä±lmayacak kadar yetersiz.

**5. CEFR Seviye UyumsuzluÄŸu**
Mevcut metinler `level: "BaÅŸlangÄ±Ã§"` etiketine sahip. UygulamanÄ±n tamamÄ± CEFR sistemi (A1â€“C2) kullanÄ±rken okuma modÃ¼lÃ¼ bu sisteme dahil deÄŸil. KullanÄ±cÄ± kelime Ã§alÄ±ÅŸmasÄ±nda A2 seviyesindeyken, okuma modÃ¼lÃ¼ bu bilgiyi kullanamÄ±yor.

**6. Metin Kelime ZenginliÄŸi DÃ¼ÅŸÃ¼k**
Her iki metin de sadece en temel kelimeler kullanÄ±yor (drinks, happy, beautiful, car, park). vocabData'daki 1000 kelimenin bÃ¼yÃ¼k Ã§oÄŸunluÄŸu bu metinlerde hiÃ§ kullanÄ±lmÄ±yor, dolayÄ±sÄ±yla `vocabMap` vurgulama potansiyelinin Ã§ok azÄ± gerÃ§ekleÅŸtiriliyor.

##### ğŸ¨ UX/Deneyim SorunlarÄ±

**7. Sadece Ã‡oktan SeÃ§meli Soru Tipi**
Her metnin ardÄ±ndan yalnÄ±zca 4 seÃ§enekli multiple-choice sorularÄ± var. BoÅŸluk doldurma, doÄŸru-yanlÄ±ÅŸ, cÃ¼mle eÅŸleÅŸtirme gibi alternatif soru tipleri yok. Bu tekdÃ¼zelik kullanÄ±cÄ±nÄ±n sÄ±kÄ±lmasÄ±na yol aÃ§ar.

**8. Tamamlanma/Ä°lerleme Takibi Yok**
KullanÄ±cÄ± bir metni okudu mu, sorularÄ± doÄŸru cevapladÄ± mÄ± â€” bu bilgi hiÃ§bir yerde saklanmÄ±yor. AynÄ± metni tekrar aÃ§Ä±p tekrar 10 XP x 3 soru = 30 XP kazanabilir (sonsuz loop). `progressManager.completeActivity()` Ã§aÄŸrÄ±lmÄ±yor.

**9. Kelime SayÄ±sÄ± / Okuma SÃ¼resi Yok**
Metin kartlarÄ±nda sadece baÅŸlÄ±k ve seviye var. Tahmini okuma sÃ¼resi veya kelime sayÄ±sÄ± gibi bilgiler gÃ¼dÃ¼leyici olabilir ("45 kelime Â· ~1 dk okuma").

**10. TTS (Text-to-Speech) DesteÄŸi Yok**
KullanÄ±cÄ± metni sadece gÃ¶zle okuyor. Metnin sesli okunmasÄ± (Web Speech API ile), dinleme becerisini de destekler ve okuma+dinleme entegrasyonu saÄŸlar.

##### ğŸ® Gamification SorunlarÄ±

**11. `celebrateLevelUp()` OrantÄ±sÄ±z KullanÄ±m**

```javascript
// SatÄ±r 239
if (correctCount === questions.length && window.celebrateLevelUp) window.celebrateLevelUp();
```

3/3 doÄŸru yapÄ±nca confetti + level-up kutlamasÄ± tetikleniyor. Ama bu, gerÃ§ek bir seviye atlama deÄŸil â€” sadece 3 soru doÄŸru yanÄ±tlandÄ±. `celebrateLevelUp`, `progressManager`'Ä±n seviye atlama mekanizmasÄ±ndan baÄŸÄ±msÄ±z Ã§aÄŸrÄ±lÄ±yor. Bu, kullanÄ±cÄ± deneyiminde anlam karmaÅŸasÄ± yaratÄ±r.

**12. Kelime GÃ¶zden GeÃ§irme / SRS Entegrasyonu Yok**
KullanÄ±cÄ± metindeki mavi kelimelere tÄ±klayÄ±p anlamÄ±nÄ± gÃ¶rebilir, ama bu kelimeleri "bilmiyorum" olarak iÅŸaretleyip SRS kuyruÄŸuna ekleme imkanÄ± yok. Okuma modÃ¼lÃ¼ kelime Ã¶ÄŸrenme dÃ¶ngÃ¼sÃ¼nden tamamen kopuk.

---

#### ğŸ› ï¸ Ã‡Ã¶zÃ¼m PlanÄ± â€” 4 AÅŸama

##### AÅŸama 1: Mimari DÃ¼zeltme (Temel Refactoring)

**1a. Veriyi [data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js)'e TaÅŸÄ±ma**

`readingTexts` dizisini [reading.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/reading.js)'ten Ã§Ä±karÄ±p [data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js)'e export olarak eklemek. Yeni veri yapÄ±sÄ±:

```javascript
export const readingTexts = [
  {
    id: 1,
    title: "A Good Morning",
    level: "A1",                    // CEFR standardÄ±na geÃ§iÅŸ
    category: "daily-life",         // Yeni: kategori
    wordCount: 45,                  // Yeni: kelime sayÄ±sÄ±
    readingTime: 1,                 // Yeni: dakika cinsinden tahmini okuma sÃ¼resi
    text: [
      "Every morning, Tom wakes up early and drinks water before breakfast.",
      "He is happy because the weather is beautiful and warm.",
      // ...
    ],
    questions: [
      {
        q: "What does Tom drink before breakfast?",
        type: "multiple-choice",    // Yeni: soru tipi (ileride geniÅŸletilebilir)
        options: ["Coffee", "Water", "Juice", "Milk"],
        answer: "Water"
      }
    ],
    // Yeni alanlar:
    clozeWords: ["drinks", "happy", "beautiful"],  // BoÅŸluk doldurma iÃ§in hangi kelimeler
    keyVocab: ["wake", "drink", "happy", "beautiful", "warm", "write", "eat", "think"]
  }
];
```

**1b. `vocabMap` ZenginleÅŸtirme**

```javascript
// Mevcut: sadece meaning
vocabMap[w.word.toLowerCase()] = w.meaning;

// Yeni: type + meaning + id (SRS entegrasyonu iÃ§in)
vocabMap[w.word.toLowerCase()] = {
  meaning: w.meaning,
  type: w.type,
  id: w.id
};
```

**1c. Tooltip Pozisyon DÃ¼zeltme**

`position: fixed` yerine `position: absolute` kullanarak tooltip'i `.reading-article` container'Ä±na relative olarak konumlandÄ±rmak. Bu, scroll sorununu tamamen Ã§Ã¶zer.

**1d. Ä°lerleme Takibi Ekleme**

```javascript
// Metin tamamlandÄ±ÄŸÄ±nda:
progressManager.completeActivity(`reading-${text.id}`);
// Ä°lk kez tamamlamada XP ver, tekrarlarda verme:
if (!progressManager.state.completedActivities.includes(`reading-${text.id}`)) {
  progressManager.addXP(xpAmount);
}
```

**1e. `celebrateLevelUp` DÃ¼zeltmesi**

SatÄ±r 239'daki `celebrateLevelUp()` kaldÄ±rÄ±lacak. Onun yerine, tÃ¼m sorular doÄŸruysa toast notification ile "MÃ¼kemmel! ğŸ‰" mesajÄ± gÃ¶sterilecek.

---

##### AÅŸama 2: Ä°Ã§erik GeniÅŸletme (12 Yeni Metin)

Toplam 14 metin hedefi (mevcut 2 + 12 yeni), CEFR seviyelerine gÃ¶re daÄŸÄ±lÄ±m:

| Seviye | Metin SayÄ±sÄ± | Konular | CÃ¼mle/Metin | Soru/Metin |
|---|---|---|---|---|
| **A1** | 4 (2 mevcut + 2 yeni) | "My Family", "At the Supermarket" | 5-6 | 3 |
| **A2** | 4 | "Travel to London", "Cooking Dinner", "My Best Friend", "A Weekend in the Park" | 6-8 | 4 |
| **B1** | 3 | "Social Media and Young People", "Job Interview Tips", "Climate Change" | 8-10 | 4 |
| **B2** | 3 | "The Future of AI", "Cultural Differences", "How Music Affects the Brain" | 10-12 | 5 |

**Ä°Ã§erik yazÄ±m kurallarÄ±:**

- Her metin, `vocabData`'daki en az 8-10 kelimeyi kullanmalÄ± (vurgulama oranÄ±nÄ± yÃ¼kseltmek iÃ§in)
- Her metnin seviyesine uygun gramer yapÄ±larÄ± kullanÄ±lmalÄ± (A1: present simple, A2: past simple, B1: present perfect, B2: passive voice + conditionals)
- TÃ¼rkÃ§e karakter Ä°ngilizce kelimelerde kullanÄ±lmamalÄ±

---

##### AÅŸama 3: Yeni Egzersiz ModlarÄ±

**3a. Cloze Test (BoÅŸluk Doldurma)**

Metin iÃ§indeki belirli kelimeler `____` ile deÄŸiÅŸtirilir, kullanÄ±cÄ± dropdown'dan veya yazarak doÄŸru kelimeyi seÃ§er:

```
Every morning, Tom wakes up early and ______ water before breakfast.
                                        [drinks / eats / runs / reads]
```

- Hangi kelimelerin boÅŸluk yapÄ±lacaÄŸÄ± `clozeWords` field'Ä±ndan gelir
- Normal okuma modundan sonra "BoÅŸluk Doldurma" butonu ile eriÅŸilir

**3b. DoÄŸru / YanlÄ±ÅŸ SorularÄ± (True/False)**

Metinle ilgili ifade verilir, kullanÄ±cÄ± doÄŸru mu yanlÄ±ÅŸ mÄ± karar verir:

```
"Tom drinks coffee every morning." â†’ False (Water iÃ§iyor)
```

**3c. Kelime AvÄ± (Word Hunt)**

Metnin altÄ±nda bir gÃ¶rev belirir: "Bu metinde 3 sÄ±fat (adjective) bul ve iÅŸaretle!"

- KullanÄ±cÄ± kelimelere tÄ±klayarak seÃ§er
- DoÄŸru seÃ§imler yeÅŸil, yanlÄ±ÅŸlar kÄ±rmÄ±zÄ± olur
- `vocabMap`'teki `type` bilgisi doÄŸrulama iÃ§in kullanÄ±lÄ±r

**3d. CÃ¼mle SÄ±ralama (Metnin cÃ¼mleleri karÄ±ÅŸtÄ±rÄ±lÄ±r)**

Metnin paragraflarÄ± veya cÃ¼mleleri karÄ±ÅŸtÄ±rÄ±larak doÄŸru sÄ±raya dizme:

- Drag-drop ile sÄ±ralama (mevcut [sentence-order.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/sentence-order.js) altyapÄ±sÄ± kullanÄ±labilir)
- "Correct order" butonu ile kontrol

---

##### AÅŸama 4: UX ve Entegrasyon Ä°yileÅŸtirmeleri

**4a. CEFR Seviye Filtresi**

Metin listesinde seviye filtresi (mevcut gramer modÃ¼lÃ¼nde olduÄŸu gibi):

```
[TÃ¼mÃ¼] [A1 ğŸŒ±] [A2 ğŸŒ¿] [B1 ğŸŒŸ] [B2 ğŸ”¥]
```

**4b. Metin KartÄ± ZenginleÅŸtirme**

Metin seÃ§im kartlarÄ±nda:

- CEFR badge (renk kodlu)
- Kelime sayÄ±sÄ± + tahmini okuma sÃ¼resi
- âœ… TamamlandÄ± iÅŸareti (ilerleme takibiyle)
- DoÄŸruluk oranÄ± (%80 gibi)

**4c. TTS (Metni Sesli Okuma)**

"ğŸ”Š Metni Dinle" butonu â€” Web Speech API ile metnin tamamÄ±nÄ± veya paragraf paragraf sesli okuma:

```javascript
const utterance = new SpeechSynthesisUtterance(paragraph);
utterance.lang = 'en-US';
speechSynthesis.speak(utterance);
```

**4d. Kelime â†’ SRS Entegrasyonu**

Tooltip'te ek buton: "ğŸ“Œ Tekrar KuyruÄŸuna Ekle"

- TÄ±klandÄ±ÄŸÄ±nda [reviewWord(wordId, 0)](file:///Users/kursataknc/Documents/GitHub/english-projet/src/features/srs.js#80-88) Ã§aÄŸrÄ±lÄ±r (0 = bilmiyorum)
- Kelime SRS kuyruÄŸuna dÃ¼ÅŸer ve flashcard tekrarlarÄ±nda karÅŸÄ±sÄ±na Ã§Ä±kar

**4e. Okuma SonrasÄ± Ã–zet ve Ã–ÄŸrenilen Kelimeler**

Metin tamamlandÄ±ÄŸÄ±nda:

- DoÄŸruluk Ã¶zeti (mevcut)
- - Metinde tÄ±klanan kelimelerin listesi ("Bu metinde ÅŸu kelimelerin anlamÄ±na baktÄ±n: dog, happy, morning")
- - Bu kelimeleri SRS'e toplu ekleme seÃ§eneÄŸi

---

#### ğŸ“ Okuma ModÃ¼lÃ¼ Dosya DeÄŸiÅŸiklikleri

| Dosya | DeÄŸiÅŸiklik |
|---|---|
| [data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js) | `readingTexts` ekleme (12 yeni metin + yeni fieldlar) |
| [reading.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/reading.js) | Refactor: veri â†’ import, tooltip fix, progress tracking, cloze/hunt modlarÄ±, TTS, SRS entegrasyonu |
| [style.css](file:///Users/kursataknc/Documents/GitHub/english-projet/src/styles/style.css) | CEFR badge, tamamlanma iÅŸareti, cloze input, word-hunt stilleri |

> [!IMPORTANT]
> AÅŸama 1 (mimari dÃ¼zeltme) ve AÅŸama 2 (iÃ§erik ekleme) birbirine baÄŸÄ±mlÄ±dÄ±r â€” Ã¶nce veri yapÄ±sÄ± taÅŸÄ±nmalÄ±, sonra yeni metinler eklenmelidir. AÅŸama 3 ve 4 baÄŸÄ±msÄ±z olarak uygulanabilir.

---

### 5. ğŸ§  Kelime ModÃ¼lÃ¼ â€” KapsamlÄ± Analiz ve Ä°yileÅŸtirme

---

#### ğŸ“‹ Mevcut Durum Raporu ([vocab.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/vocab.js) â€” 606 satÄ±r)

**Dosya:** [vocab.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/vocab.js)

Kelime modÃ¼lÃ¼, uygulamanÄ±n en bÃ¼yÃ¼k ve en Ã¶zellikli modÃ¼lÃ¼. 4 alt Ã¶zelliÄŸi, SRS entegrasyonu ve 3 external API kullanÄ±yor:

| Alt Ã–zellik | SatÄ±r AralÄ±ÄŸÄ± | AÃ§Ä±klama |
|---|---|---|
| **Kelime Arama/Browse** | 14â€“93 | Text + type + level filtreleri ile 1000 kelimede arama |
| **Flashcards + SRS** | 95â€“351 | Kart Ã§evirme, Dictionary API (fonetik, tanÄ±m, Ã¶rnek), Unsplash gÃ¶rsel, SM-2 spaced repetition |
| **EÅŸleÅŸtirme Oyunu** | 353â€“468 | 5 Ã§ift (kelime â†” anlam), seÃ§me-eÅŸleÅŸtirme mekaniÄŸi |
| **Kelime Bulmaca (Scramble)** | 470â€“606 | Harfleri karÄ±ÅŸtÄ±r â†’ doÄŸru kelimeyi yaz |

**BaÄŸÄ±mlÄ±lÄ±klar:**

- [data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js) â†’ `vocabData` (1000 kelime)
- [services.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js) â†’ [fetchDictionary](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#16-67), [playPronunciation](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#99-112), [fetchUnsplashImage](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#119-147)
- [srs.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/features/srs.js) â†’ [reviewWord](file:///Users/kursataknc/Documents/GitHub/english-projet/src/features/srs.js#80-88), [getDueWords](file:///Users/kursataknc/Documents/GitHub/english-projet/src/features/srs.js#89-100), [getSRSStats](file:///Users/kursataknc/Documents/GitHub/english-projet/src/features/srs.js#107-129)

---

#### ğŸ” Tespit Edilen Sorunlar (15 Madde)

##### ğŸ—ï¸ Mimari / Kod Kalitesi

**1. Global Durum DeÄŸiÅŸkenleri (`currentIndex`, `isFlipped`, `srsQueue`, `selectedCards`, `matchedPairs`)**
ModÃ¼l seviyesinde [let](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/vocab.js#237-253) ile tanÄ±mlanan 7+ deÄŸiÅŸken, modÃ¼llerin aynÄ± anda aktif olmasÄ±nÄ± engelliyor. AyrÄ±ca cleanup yapÄ±lmadÄ±ÄŸÄ± iÃ§in bir alt Ã¶zellikten diÄŸerine geÃ§iÅŸte stale state riski var.

**2. Event Listener SÄ±zÄ±ntÄ±sÄ±**

```javascript
// SatÄ±r 209 â€” document seviyesinde listener
document.addEventListener('click', (e) => {
    if (!e.target.classList.contains('srs-btn')) return;
    // ...
});
```

SRS butonlarÄ± iÃ§in `document` seviyesinde bir click listener ekleniyor ve hiÃ§bir zaman `removeEventListener` ile temizlenmiyor. Flashcard her aÃ§Ä±ldÄ±ÄŸÄ±nda yeni bir listener eklenir â†’ memory leak.

**3. EÅŸleÅŸtirme Oyunu `restart` Listener Ã‡oÄŸaltmasÄ±**

```javascript
// SatÄ±r 450
document.getElementById('restart-match-btn').addEventListener('click', startMatchingGame);
```

"Tekrar Oyna" butonuna her oyun bitiÅŸinde yeni bir listener ekleniyor ama buton `innerHTML` ile yeniden oluÅŸturulduÄŸu iÃ§in bu durumda sorun yaratmÄ±yor â€” ÅŸu an "kaza eseri" Ã§alÄ±ÅŸÄ±yor, ama refactoring'de dikkat edilmeli.

##### ğŸ“š Ä°Ã§erik SorunlarÄ±

**4. `vocabData`'da [example](file:///Users/kursataknc/Documents/GitHub/english-projet/.env.example) AlanÄ± Yok**
Kelime verisinde `word`, `meaning`, `synonyms`, `type`, `level`, `image` var ama Ã¶rnek cÃ¼mle ([example](file:///Users/kursataknc/Documents/GitHub/english-projet/.env.example)) yok. Flashcard'da Ã¶rnek cÃ¼mle [fetchDictionary()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#16-67) API'sine baÄŸÄ±mlÄ± â€” API Ã§alÄ±ÅŸmazsa kullanÄ±cÄ± hiÃ§ Ã¶rnek gÃ¶remez.

**5. `image` AlanÄ± Hep `null`**
TÃ¼m 1000 kelimede `image: null` var. GÃ¶rsel, Unsplash API'den Ã§ekiliyor ama:

- API key yoksa gÃ¶rsel hiÃ§ yÃ¼klenmez
- Unsplash Ã¼cretsiz plan: 50 istek/saat â€” 1000 kelime iÃ§in yetersiz
- Kelime ile ilgisiz gÃ¶rseller gelebilir ("bank" iÃ§in nehir kÄ±yÄ±sÄ± mÄ±, banka mÄ±?)

**6. Kelime TÃ¼rÃ¼ Badge'i Stilsiz**

```javascript
// SatÄ±r 85 â€” search/browse'da type gÃ¶sterimi
<span class="badge">${w.type}</span>
```

Search/Browse'da `w.type` gÃ¶steriliyor (ham text: "noun", "verb"...) ama renk kodlamasÄ± yok. Flashcard'da satÄ±r 278'de `card-type` gÃ¶steriliyor ama yine renksiz.

**7. Duplicate Kelimeler**
`vocabData`'da duplicate ID'ler var:

- `id: 781` "add" (eklemek) ve `id: 943` "add" (eklemek) â€” aynÄ± kelime, aynÄ± anlam, farklÄ± ID
- `id: 940` "check" (bakmak) ve `id: 932` "check" (kontrol etmek) â€” aynÄ± kelime, farklÄ± anlam
- `id: 750` "warn" ve `id: 947` "warn" â€” aynÄ± kelime, aynÄ± anlam

Bu, eÅŸleÅŸtirme oyununda kafa karÄ±ÅŸÄ±klÄ±ÄŸÄ± yaratÄ±r ve SRS'te duplike tekrar oluÅŸturabilir.

##### ğŸƒ Flashcard SorunlarÄ±

**8. API BaÄŸÄ±mlÄ±lÄ±ÄŸÄ± KÄ±rÄ±lganlÄ±ÄŸÄ±**
Her kart deÄŸiÅŸtiÄŸinde 2 API Ã§aÄŸrÄ±sÄ± yapÄ±lÄ±yor:

```javascript
fetchDictionary(wordData.word)  // Dictionary API
fetchUnsplashImage(wordData.word) // Unsplash API
```

Ä°nternet kesildiÄŸinde veya API rate limit'e ulaÅŸÄ±ldÄ±ÄŸÄ±nda:

- Fonetik, tanÄ±m, Ã¶rnek â†’ boÅŸ kalÄ±r ("TanÄ±m yÃ¼kleniyor..." sonsuza kadar kalÄ±r)
- GÃ¶rsel â†’ yÃ¼klenmez (ama `display:none` ile gizlenir â€” sorun deÄŸil)
- Hata mesajÄ± kullanÄ±cÄ±ya gÃ¶sterilmez

**9. Flashcard'da CEFR Seviye GÃ¶sterimi Yok**
Kart Ã¼zerinde kelimenin `level` bilgisi (A1, A2, B1...) gÃ¶sterilmiyor. KullanÄ±cÄ± Ã§alÄ±ÅŸtÄ±ÄŸÄ± kelimenin seviyesini bilemiyor.

**10. Flashcard Filtreleme Yok**
Normal modda 1000 kelimenin tamamÄ± sÄ±rayla gÃ¶sterilir. KullanÄ±cÄ± belirli bir seviye (A1) veya tÃ¼r (sadece fiiller) ile flashcard Ã§alÄ±ÅŸamaz. SRS modu hariÃ§ filtreleme imkanÄ± yok.

##### ğŸ§© EÅŸleÅŸtirme Oyunu SorunlarÄ±

**11. Sabit 5 Ã‡ift â€” Ã‡ok Az**
Her oyun sadece 5 Ã§ift (word â†” meaning) ile oynanÄ±yor. Bu ~20 saniyede biter. Zorluk artÄ±ÅŸÄ±, tur sistemi veya sÃ¼re limiti yok.

**12. Kelime TÃ¼rÃ¼ ve Seviye KarÄ±ÅŸÄ±mÄ±**
5 kelime `vocabData`'nÄ±n tamamÄ±ndan rastgele seÃ§iliyor. A1 Ã¶ÄŸrencisi B2 kelimelerle eÅŸleÅŸtirme yapmak zorunda kalabilir. AyrÄ±ca doÄŸru eÅŸleÅŸmede XP verilmiyor.

**13. EÅŸleÅŸtirme Sadece Word â†” Meaning**
Tek bir eÅŸleÅŸtirme tÃ¼rÃ¼ var. Alternatifler yok:

- Word â†” Synonym eÅŸleÅŸtirme
- Word â†” Ã–rnek cÃ¼mle eÅŸleÅŸtirme
- TÃ¼rkÃ§e â†” Ä°ngilizce (ters yÃ¶n)

##### ğŸ” Bulmaca (Scramble) SorunlarÄ±

**14. Seviye Filtresi Yok**
Bulmaca kelimeleri `vocabData`'nÄ±n tamamÄ±ndan rastgele seÃ§ilir. A1 Ã¶ÄŸrencisi "achievement" veya "furthermore" gibi B2 kelimelerle karÅŸÄ±laÅŸabilir.

**15. Kelime TÃ¼rÃ¼ Ä°pucu Yok**
Ä°pucu olarak sadece TÃ¼rkÃ§e `meaning` gÃ¶steriliyor. Kelimenin noun/verb/adjective olduÄŸu bilgisi verilmiyor â€” bu bilgi doÄŸru cevaba ulaÅŸmayÄ± kolaylaÅŸtÄ±rÄ±r.

---

#### ğŸ› ï¸ Ã‡Ã¶zÃ¼m PlanÄ± â€” 4 AÅŸama

##### AÅŸama 1: Kod Kalitesi ve Bug Fix'ler

**1a. Event Listener TemizliÄŸi**
[initFlashcards()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/vocab.js#95-169) Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda Ã¶nceki listener'larÄ± temizleyecek bir `cleanupFlashcards()` fonksiyonu eklenmeli. `AbortController` pattern'Ä± kullanÄ±labilir:

```javascript
let abortController = null;
function setupEventListeners() {
    if (abortController) abortController.abort();
    abortController = new AbortController();
    const signal = abortController.signal;
    document.addEventListener('click', handleSRSClick, { signal });
}
```

**1b. API Fallback MekanizmasÄ±**
[fetchDictionary](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#16-67) hata dÃ¶ndÃ¼ÄŸÃ¼nde "TanÄ±m yÃ¼kleniyor..." yazÄ±sÄ±nÄ± "Ã‡evirim dÄ±ÅŸÄ± â€” tanÄ±m mevcut deÄŸil" ile deÄŸiÅŸtirmek. Zaman aÅŸÄ±mÄ±: 3 saniye.

**1c. Duplicate Kelime TemizliÄŸi**
[data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js)'teki tekrarlanan kelimeleri tespit edip kaldÄ±rmak veya birleÅŸtirmek:

- [add](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/progress.js#98-104) (id: 781 ve 943) â†’ birini sil
- `warn` (id: 750 ve 947) â†’ birini sil
- [check](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/sentence-order.js#224-257) (id: 932 ve 940) â†’ farklÄ± anlamlarsa ikisini de tut ama meaning alanÄ±nÄ± netleÅŸtir

---

##### AÅŸama 2: Kelime TÃ¼rÃ¼ Badge Sistemi (TÃ¼m Alt Ã–zelliklerde)

Renk kodlu badge'ler ve `getTypeBadgeHTML()` yardÄ±mcÄ± fonksiyonu:

```javascript
// core/utils.js
export function getTypeBadgeHTML(type) {
    const config = {
        noun:      { label: 'n.',   color: '#4a90e2' },
        verb:      { label: 'v.',   color: '#e24a4a' },
        adjective: { label: 'adj.', color: '#4aad5b' },
        other:     { label: 'oth.', color: '#e2a74a' }
    };
    const c = config[type] || config.other;
    return `<span class="type-badge" style="background:${c.color}">${c.label}</span>`;
}
```

Uygulanacak yerler:

| Konum | Mevcut | SonrasÄ± |
|---|---|---|
| Flashcard Ã¶n yÃ¼z | `<span class="badge">${type}</span>` (renksiz) | `getTypeBadgeHTML(type)` |
| Search/Browse kartÄ± | `<span class="badge">${type}</span>` (renksiz) | `getTypeBadgeHTML(type)` |
| EÅŸleÅŸtirme kart | Yok | KartÄ±n kÃ¶ÅŸesinde kÃ¼Ã§Ã¼k badge |
| Bulmaca ipucu | Yok | Ä°pucu yanÄ±nda badge |

---

##### AÅŸama 3: Flashcard Ä°yileÅŸtirmeleri

**3a. Flashcard Filtreleme**

Normal modda (SRS olmayan) flashcard baÅŸlamadan Ã¶nce bir filtre seÃ§im ekranÄ±:

```
[TÃ¼m Seviyeler â–¾]  [TÃ¼m TÃ¼rler â–¾]  [BaÅŸla ğŸ´]
```

- SeÃ§ilen filtreye gÃ¶re `vocabData` subset'i oluÅŸturulur
- Flashcard havuzu daraltÄ±lÄ±r

**3b. CEFR Badge Flashcard Ãœzerinde**

Kart Ã¶n yÃ¼zÃ¼nde kelime baÅŸlÄ±ÄŸÄ±nÄ±n yanÄ±nda `A1 ğŸŒ±` gibi kÃ¼Ã§Ã¼k CEFR badge'i.

**3c. [example](file:///Users/kursataknc/Documents/GitHub/english-projet/.env.example) AlanÄ± â€” Statik Ã–rnek CÃ¼mle**

[data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js)'teki her kelimeye [example](file:///Users/kursataknc/Documents/GitHub/english-projet/.env.example) field'Ä± eklenmesi. API'den baÄŸÄ±msÄ±z olarak kart Ã¼zerinde gÃ¶sterilir â€” API'den gelen Ã¶rnek varsa onunla birleÅŸtirilir.

**3d. Offline Mode Ä°yileÅŸtirme**

API Ã§aÄŸrÄ±sÄ± baÅŸarÄ±sÄ±zsa flashcard'Ä±n yine de kullanÄ±labilir olmasÄ±:

- TÃ¼rkÃ§e meaning â†’ her zaman gÃ¶sterilir (lokal veri)
- Fonetik, tanÄ±m, Ã¶rnek â†’ "Ã‡evirim dÄ±ÅŸÄ±" placeholder
- Ses â†’ Web Speech API fallback (zaten [playPronunciation](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#99-112) iÃ§inde var âœ…)

---

##### AÅŸama 4: Oyun MekaniÄŸi Ä°yileÅŸtirmeleri

**4a. EÅŸleÅŸtirme Oyunu Yeniden TasarÄ±m**

| Ã–zellik | Mevcut | Ã–nerilen |
|---|---|---|
| Ã‡ift sayÄ±sÄ± | 5 (sabit) | 5 / 8 / 10 (zorluk seÃ§imi) |
| EÅŸleÅŸtirme tÃ¼rÃ¼ | Word â†” Meaning | + Word â†” Synonym, + TR â†” EN |
| Seviye filtresi | Yok | A1, A2, B1, B2 |
| SÃ¼re | Yok | Ä°steÄŸe baÄŸlÄ± geri sayÄ±m |
| XP | Yok | DoÄŸru eÅŸleÅŸme: 5 XP, tÃ¼m board: +20 bonus |
| Tur sistemi | Yok | 3 tur, toplam skor |

**4b. Bulmaca GeliÅŸtirmeleri**

- CEFR seviye filtresi (test baÅŸlangÄ±cÄ±nda)
- Kelime tÃ¼rÃ¼ badge'i ipucu yanÄ±nda
- Harf tÄ±klama mekaniÄŸi: Harf kutularÄ±na tÄ±klayarak input'a ekleme (mobil uyumluluk)
- "CevabÄ± GÃ¶ster" butonu (3 yanlÄ±ÅŸ denemeden sonra)
- Geri sayÄ±m sayacÄ± (isteÄŸe baÄŸlÄ± hardcore mod)

**4c. Yeni Oyun Modu: Ters Bulmaca (Reverse Scramble)**

TÃ¼rkÃ§e anlam verilir â†’ Ä°ngilizce kelimeyi yaz (scramble olmadan, direkt bilgi testi).

**4d. Yeni Oyun Modu: HÄ±zlÄ± EÅŸleÅŸtirme (Speed Match)**

Ekranda 1 kelime + 4 seÃ§enek belirir, 3 saniyede doÄŸru anlamÄ± seÃ§. Her doÄŸruda sÃ¼re 0.2s azalÄ±r.

---

#### ğŸ“ Kelime ModÃ¼lÃ¼ Dosya DeÄŸiÅŸiklikleri

| Dosya | DeÄŸiÅŸiklik |
|---|---|
| [data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js) | [example](file:///Users/kursataknc/Documents/GitHub/english-projet/.env.example) field ekleme, duplicate kelime temizliÄŸi |
| [vocab.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/vocab.js) | Listener temizliÄŸi, flashcard filtre, type badge, eÅŸleÅŸtirme/bulmaca geliÅŸtirmeleri, yeni oyun modlarÄ± |
| [utils.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/utils.js) | `getTypeBadgeHTML()`, `getTypeCSSClass()` yardÄ±mcÄ± fonksiyonlar |
| [services.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js) | API timeout ekleme, hata mesajÄ± iyileÅŸtirme |
| [style.css](file:///Users/kursataknc/Documents/GitHub/english-projet/src/styles/style.css) | `.type-badge` stilleri, eÅŸleÅŸtirme zorluk seÃ§imi UI |

> [!WARNING]
> [data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js)'e [example](file:///Users/kursataknc/Documents/GitHub/english-projet/.env.example) field'Ä± eklemek 1000 kelime Ã— 1 cÃ¼mle = 1000 Ã¶rnek cÃ¼mle gerektirir. Bu bÃ¼yÃ¼k bir iÃ§erik Ã§alÄ±ÅŸmasÄ±dÄ±r ve aÅŸamalÄ± olarak yapÄ±lmalÄ±dÄ±r (Ã¶nce A1 kelimeleri, sonra A2, vb.).

---

### 6. ğŸ§ Dinleme ModÃ¼lÃ¼ Yeniden TasarÄ±mÄ±

**Problem:** Dinleme verileri gerÃ§ek Ä°ngilizce iÃ§erik deÄŸil, Google'Ä±n sample videolarÄ± kullanÄ±lÄ±yor.

**Ã‡Ã¶zÃ¼m â€” Diyalog TabanlÄ± Audio Sistemi:**

- VideolarÄ± kaldÄ±rÄ±p, **Web Speech API (SpeechSynthesis)** ile okunabilen diyalog parÃ§alarÄ±na geÃ§ilmesi
- Veya Ã¼cretsiz ve gerÃ§ekÃ§i ses Ã¼reten bir TTS API kullanÄ±lmasÄ±
- Diyalog yapÄ±sÄ±:

```javascript
{
  id: 1,
  title: "At the Coffee Shop",
  level: "A1",
  lines: [
    { speaker: "Waitress", text: "Hi, can I help you?" },
    { speaker: "Customer", text: "Yes, I'd like a medium latte, please." },
    { speaker: "Waitress", text: "Anything else?" },
    { speaker: "Customer", text: "No, that's all. Thanks." }
  ],
  questions: [
    { q: "What does the customer order?", options: [...], answer: "..." }
  ]
}
```

- Her satÄ±r ayrÄ± ayrÄ± oynatÄ±labilir (Web Speech API ile)
- Transcript toggle ile metin gÃ¶ster/gizle
- "Dikte" (dictation) modu: Ses dinlenip doÄŸru yazÄ±lmasÄ± beklenir

> [!TIP]
> Web Speech API ile `speechSynthesis.speak()` kullanÄ±larak `en-US` veya `en-GB` aksanlarla ses Ã¼retilebilir. Bu hiÃ§bir external API gerektirmez ve tamamen client-side Ã§alÄ±ÅŸÄ±r.

---

### 7. ğŸ§© Phrasal Verbs ModÃ¼lÃ¼ (Yeni)

**Problem:** 1000 kelimelik veri setinde phrasal verb yok (sadece "wake up" ve "go to bed" var).

**Ã‡Ã¶zÃ¼m â€” Dedike phrasal verb bÃ¶lÃ¼mÃ¼:**

En Ã§ok kullanÄ±lan 50 phrasal verb:

```
give up, look for, come back, turn on, turn off, pick up, put down,
find out, get up, sit down, take off, put on, go on, come in,
get out, look at, go back, take away, carry on, set up...
```

Her phrasal verb iÃ§in:

- Anlam (TÃ¼rkÃ§e)
- Ã–rnek cÃ¼mle
- EÅŸleÅŸtirme oyunu: phrasal verb â†” anlam
- BoÅŸluk doldurma: "She decided to ___ her job." â†’ `give up`

---

### 8. ğŸ’¬ Deyimler ve Ä°fadeler ModÃ¼lÃ¼ (Idioms & Expressions) (Yeni)

**Problem:** [data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js)'te `idiom` kelimesi var ama gerÃ§ek deyim iÃ§eriÄŸi yok.

**Ã‡Ã¶zÃ¼m â€” GÃ¼nlÃ¼k kullanÄ±lan 30+ Ä°ngilizce deyim:**

Kategoriler:

- **GÃ¼nlÃ¼k deyimler:** "break the ice", "a piece of cake", "hit the road"
- **Duygular:** "over the moon", "under the weather", "on cloud nine"
- **Ä°ÅŸ/okul:** "think outside the box", "go the extra mile"

Her deyim iÃ§in:

- Literal anlam vs. gerÃ§ek anlam karÅŸÄ±laÅŸtÄ±rmasÄ± (renkli UI)
- Ã–rnek cÃ¼mle iÃ§inde kullanÄ±mÄ±
- Quiz: CÃ¼mle verilir, doÄŸru deyim seÃ§ilir
- GÃ¶rsel ipucu: Deyimin literal anlamÄ±nÄ± Ã§aÄŸrÄ±ÅŸtÄ±ran bir ikon/illÃ¼strasyon

---

### 9. ğŸ“ DÃ¼zensiz Fiiller Tablosu (Irregular Verbs) (Yeni)

**Problem:** Gramer bÃ¶lÃ¼mÃ¼nde past simple var ama dÃ¼zensiz fiil tablosu yok.

**Ã‡Ã¶zÃ¼m â€” Ä°nteraktif dÃ¼zensiz fiil Ã§alÄ±ÅŸma modÃ¼lÃ¼:**

- 80+ temel dÃ¼zensiz fiil (V1 â†’ V2 â†’ V3)
- Tablo gÃ¶rÃ¼nÃ¼mÃ¼: aranabilir, filtrelenebilir (A1/A2/B1 seviye filtresi)
- **Drill modu:** V1 gÃ¶sterilir â†’ V2 ve V3'Ã¼ yaz
- **Ters drill:** V3 gÃ¶sterilir â†’ V1'i yaz

Ã–rnek veri yapÄ±sÄ±:

```javascript
{ v1: "go", v2: "went", v3: "gone", meaning: "gitmek", level: "A1" }
```

- SRS entegrasyonu: YanlÄ±ÅŸ bilinenler tekrar kuyruÄŸuna eklenir

---

### 10. âœï¸ Yazma PratiÄŸi ModÃ¼lÃ¼ (Writing Practice) (Yeni)

**Problem:** Grammar modÃ¼lÃ¼nde sÄ±nÄ±rlÄ± "writing" egzersizi var ama dedike bir yazma pratiÄŸi yok.

**Ã‡Ã¶zÃ¼m â€” Kademeli yazma egzersizleri:**

| Seviye | Egzersiz TÃ¼rÃ¼ |
|---|---|
| A1 | Resme bakarak 1 cÃ¼mle yaz |
| A2 | 3 kelime veriliyor, hepsini kullanarak cÃ¼mle yaz |
| B1 | Konu baÅŸlÄ±ÄŸÄ± verilir, 3-5 cÃ¼mlelik paragraf yaz |
| B2 | KarÅŸÄ±laÅŸtÄ±rma yapÄ±sÄ±: "Compare city life and village life" |

Her egzersiz iÃ§in:

- Anahtar kelime kontrolÃ¼ (keywords mevcutsa)
- Kelime sayÄ±sÄ± kontrolÃ¼ (minimum/maksimum)
- CÃ¼mle yapÄ±sÄ± ipuÃ§larÄ±
- Ã–rnek cevap (submit sonrasÄ± gÃ¶sterilir)

---

### 11. ğŸ—£ï¸ Telaffuz KarÅŸÄ±laÅŸtÄ±rma (Pronunciation Practice) (Yeni)

**Problem:** SÃ¶zlÃ¼kte `ğŸ”Š Dinle` var ama kullanÄ±cÄ±nÄ±n kendi telaffuzunu deÄŸerlendiren bir sistem yok.

**Ã‡Ã¶zÃ¼m â€” Web Speech Recognition API:**

- KullanÄ±cÄ± kelimeyi sÃ¶yler â†’ `SpeechRecognition API` ile yazÄ±ya dÃ¶ker
- Orijinal kelime ile karÅŸÄ±laÅŸtÄ±rÄ±lÄ±r
- EÅŸleÅŸme skoru gÃ¶sterilir (doÄŸruluk yÃ¼zdesi)
- "Tekrar dene" / "DoÄŸru âœ…" geri bildirimi

> [!NOTE]
> `SpeechRecognition` API'si Chrome, Edge ve Safari'de desteklenir. Firefox desteÄŸi sÄ±nÄ±rlÄ±dÄ±r.

---

### 12. ğŸ”„ CÃ¼mle SÄ±ralama â€” KapsamlÄ± Analiz ve GeniÅŸletme

---

#### ğŸ“‹ Mevcut Durum Raporu ([sentence-order.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/sentence-order.js) â€” 307 satÄ±r)

**Dosya:** [sentence-order.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/sentence-order.js)

| Ã–zellik | Mevcut Durum |
|---|---|
| CÃ¼mle sayÄ±sÄ± | **20** (hardcoded component iÃ§inde) |
| Soru/tur | 5 soru |
| Mekanik | Drag & drop (desktop) |
| Seviye filtresi | âŒ Yok |
| CEFR etiketi | âŒ Yok |
| XP | DoÄŸru cevap: 20 XP |
| Mobil destek | âŒ Touch desteÄŸi yok |
| Ä°lerleme takibi | âŒ [completeActivity()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/progress.js#124-130) Ã§aÄŸrÄ±lmÄ±yor |

---

#### ğŸ” Tespit Edilen Sorunlar (9 Madde)

**1. Veri Component Ä°Ã§inde Hardcoded**
`sentences` dizisi (satÄ±r 7â€“28) doÄŸrudan dosyanÄ±n iÃ§inde. Okuma ve dinleme ile aynÄ± mimari sorun â€” [data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js)'e taÅŸÄ±nmalÄ±.

**2. CEFR Seviye Yok**
20 cÃ¼mlenin tamamÄ± karÄ±ÅŸÄ±k zorlukta. "I go to school" (A1) ile "He has been studying for two hours" (B1) aynÄ± havuzda.

**3. Sadece 20 CÃ¼mle â€” Tekrar Riski**
5 soruluk bir tur baÅŸlatÄ±ldÄ±ÄŸÄ±nda 20 cÃ¼mleden 5'i seÃ§ilir. 4 tur sonra tÃ¼m cÃ¼mleler tÃ¼ketilir. Tekrar korumasÄ± sadece `currentSentence !== s` (son cÃ¼mleyi hariÃ§ tutuyor â€” daha Ã¶ncekiler tekrar gelebilir).

**4. Mobil Touch DesteÄŸi Yok**
`draggable="true"` ve `dragstart/drop` eventleri kullanÄ±lÄ±yor. Bunlar masaÃ¼stÃ¼ tarayÄ±cÄ±larda Ã§alÄ±ÅŸÄ±r ama **mobil tarayÄ±cÄ±larda drag-drop desteklenmez**. Touch eventleri (`touchstart`, `touchmove`, `touchend`) implement edilmemiÅŸ.

**5. [setupDragDrop()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/sentence-order.js#113-216) Listener Ã‡oÄŸaltmasÄ±**
[resetSentence()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/sentence-order.js#258-283) fonksiyonu (satÄ±r 258) Ã§aÄŸrÄ±ldÄ±ÄŸÄ±nda [setupDragDrop()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/sentence-order.js#113-216) tekrar Ã§aÄŸrÄ±lÄ±r â†’ `dragstart`, `dragover`, `drop` listener'larÄ± Ã§ift eklenir. Temizleme yok.

**6. `Math.random()` ile KarÄ±ÅŸtÄ±rma EÄŸilimi**

```javascript
const scrambled = [...currentSentence.words].sort(() => 0.5 - Math.random());
```

Bu kalÄ±p **dÃ¼zgÃ¼n daÄŸÄ±lÄ±m Ã¼retmez** (Fisher-Yates olmadÄ±ÄŸÄ± iÃ§in). BazÄ± permÃ¼tasyonlar diÄŸerlerinden daha olasÄ±.

**7. [completeActivity()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/progress.js#124-130) Ã‡aÄŸrÄ±lmÄ±yor**
TÃ¼m turlar tamamlandÄ±ÄŸÄ±nda [showFinalResult()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/sentence-order.js#284-307) gÃ¶sterilir ama ilerleme kaydedilmez. KullanÄ±cÄ± modÃ¼lÃ¼ tekrar tekrar oynayÄ±p sÃ¼rekli 20 XP Ã— 5 = 100 XP kazanabilir.

**8. CÃ¼mle Kategorileri Yok**
TÃ¼m cÃ¼mleler olumlu bildirim cÃ¼mleleri. Soru cÃ¼mleleri, olumsuz cÃ¼mleler, pasif yapÄ±lar yok.

**9. Alternatif Oyun Modu Yok**
Sadece sÃ¼rÃ¼kle-bÄ±rak var. Kelime tÄ±klama ile sÄ±ralama (tap-to-order) veya boÅŸluk doldurarak cÃ¼mle tamamlama gibi alternatifler yok.

---

#### ğŸ› ï¸ Ã‡Ã¶zÃ¼m PlanÄ±

**A. Veriyi [data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js)'e TaÅŸÄ±ma + CEFR + Kategori:**

```javascript
{ id: 1, words: ["I","go","to","school","every","day"],
  hint: "Her gÃ¼n okula giderim.", level: "A1", category: "affirmative" }
```

**B. 50+ Yeni CÃ¼mle** (CEFR daÄŸÄ±lÄ±mlÄ±):

| Seviye | Kategori | Ã–rnekler |
|---|---|---|
| A1 (15) | Olumlu, soru | "Where do you live?", "She is my sister" |
| A2 (15) | Olumsuz, geÃ§miÅŸ zaman | "She doesn't like pizza", "We visited Paris" |
| B1 (15) | Present Perfect, pasif | "I have never been to Paris", "The book was written" |
| B2 (5) | KoÅŸullu, ileri yapÄ±lar | "If I had known, I would have come" |

**C. Mobil Touch DesteÄŸi:** `touchstart/touchmove/touchend` eventleri ile drag-drop emÃ¼lasyonu veya **tap-to-order** alternatif mod (kelimeye tÄ±kla â†’ sÄ±raya ekle).

**D. Fisher-Yates Shuffle:** DoÄŸru karÄ±ÅŸtÄ±rma algoritmasÄ±.

**E. Listener TemizliÄŸi:** `AbortController` ile [setupDragDrop()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/sentence-order.js#113-216) Ã¶ncesi temizleme.

---

### 13. âš¡ HÄ±z Testi â€” KapsamlÄ± Analiz ve GeliÅŸtirme

---

#### ğŸ“‹ Mevcut Durum Raporu ([challenge.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/challenge.js) â€” 151 satÄ±r)

**Dosya:** [challenge.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/challenge.js)

| Ã–zellik | Mevcut Durum |
|---|---|
| SÃ¼re | 60 saniye (sabit) |
| Soru tipi | Ä°ngilizce â†’ TÃ¼rkÃ§e, 4 seÃ§enek |
| Soru kaynaÄŸÄ± | `vocabData` tamamÄ±ndan rastgele |
| XP | DoÄŸru: 5 XP |
| Seviye filtresi | âŒ Yok |
| Kelime tÃ¼rÃ¼ filtresi | âŒ Yok |
| Ters yÃ¶n (TRâ†’EN) | âŒ Yok |
| Leaderboard | âŒ Yok |
| Combo/streak | âŒ Yok |
| Artan zorluk | âŒ Yok |

---

#### ğŸ” Tespit Edilen Sorunlar (12 Madde)

##### ğŸ—ï¸ Mimari / Kod

**1. `Math.random()` Biased Shuffle**

```javascript
// SatÄ±r 53-54
.sort(() => 0.5 - Math.random())
```

Hem kelime seÃ§imi hem de seÃ§enek sÄ±ralamasÄ±nda kullanÄ±lÄ±yor. Fisher-Yates shuffle deÄŸil â€” daÄŸÄ±lÄ±m eÅŸit deÄŸil.

**2. AynÄ± Kelime Tekrar Gelebilir**
Soru seÃ§imi tam rastgele:

```javascript
currentWord = vocabData[Math.floor(Math.random() * vocabData.length)];
```

60 saniyede ~15 soru sorulur. 1000 kelime havuzunda tekrar olasÄ±lÄ±ÄŸÄ± dÃ¼ÅŸÃ¼k ama mÃ¼mkÃ¼n. KullanÄ±lan kelimelerin takibi yok.

**3. SeÃ§enek Ã‡akÄ±ÅŸmasÄ± Riski**

```javascript
const distractors = vocabData
    .filter(w => w.id !== currentWord.id)
    .sort(() => 0.5 - Math.random())
    .slice(0, 3)
    .map(w => w.meaning);
```

EÄŸer `vocabData`'da aynÄ± `meaning`'e sahip farklÄ± kelimeler varsa (Ã¶r. "bakmak" â€” look, check, watch), seÃ§eneklerde aynÄ± TÃ¼rkÃ§e anlam birden fazla gÃ¶rÃ¼nebilir. KullanÄ±cÄ± doÄŸru bir anlam seÃ§er ama "yanlÄ±ÅŸ" sayÄ±lÄ±r.

**4. `celebrateLevelUp()` %80'de Tetikleniyor**

```javascript
// SatÄ±r 142
if (window.celebrateLevelUp && accuracy >= 80) window.celebrateLevelUp();
```

Bu, gerÃ§ek bir seviye atlama deÄŸil. Confetti animasyonu, `progressManager`'Ä±n seviye mekanizmasÄ±ndan baÄŸÄ±msÄ±z Ã§alÄ±ÅŸÄ±yor. Okuma modÃ¼lÃ¼ndeki ile aynÄ± sorun.

##### ğŸ“š Ä°Ã§erik / Oynanabilirlik

**5. Tek YÃ¶nlÃ¼ Test**
Sadece ENâ†’TR. KullanÄ±cÄ± TÃ¼rkÃ§eyi gÃ¶rÃ¼p Ä°ngilizce kelimeyi seÃ§me (ters yÃ¶n) yapamÄ±yor. Bu, aktif hatÄ±rlama (active recall) iÃ§in kritik.

**6. Seviye Filtresi Yok**
A1 Ã¶ÄŸrencisi "furthermore", "acknowledge" gibi B2 kelimelerle karÅŸÄ±laÅŸÄ±r. Motivasyon kÄ±rÄ±cÄ±.

**7. Kelime TÃ¼rÃ¼ Filtresi Yok**
"Sadece fiilleri test et" veya "sadece sÄ±fatlarÄ± test et" seÃ§eneÄŸi yok.

**8. Kelime TÃ¼rÃ¼ Badge'i GÃ¶sterilmiyor**
Soru kartÄ±nda kelimenin noun/verb/adjective olduÄŸu bilgisi yok.

**9. Combo/Streak Sistemi Yok**
ArdÄ±ÅŸÄ±k doÄŸru cevaplar iÃ§in bonus XP yok. "5 ardÄ±ÅŸÄ±k doÄŸru â†’ 2x XP" gibi bir mekanik mevcut deÄŸil. Bu, engagement'Ä± dÃ¼ÅŸÃ¼rÃ¼r.

**10. Artan Zorluk Yok**
TÃ¼m 60 saniye boyunca zorluk aynÄ±. SeÃ§enek sayÄ±sÄ±, sÃ¼re baskÄ±sÄ± veya kelime zorluÄŸu artmÄ±yor.

**11. Leaderboard Yok**
En iyi skorlar kaydedilmiyor. KullanÄ±cÄ±nÄ±n kendi rekorlarÄ±nÄ± gÃ¶rmesi mÃ¼mkÃ¼n deÄŸil.

**12. SonuÃ§ EkranÄ± ZayÄ±f**
Sadece doÄŸru/yanlÄ±ÅŸ/doÄŸruluk gÃ¶steriliyor. Hangi kelimeleri yanlÄ±ÅŸ bildiÄŸiniz listelenmez. HatalÄ± kelimeler SRS kuyruÄŸuna eklenmez.

---

#### ğŸ› ï¸ Ã‡Ã¶zÃ¼m PlanÄ± â€” 4 AÅŸama

##### AÅŸama 1: Bug Fix'ler

- **Fisher-Yates shuffle** implementasyonu (shuffle yardÄ±mcÄ± fonksiyonu `utils.js`'e)
- **SeÃ§enek Ã§akÄ±ÅŸmasÄ± korumasÄ±:** `meaning` deÄŸerleri unique olan distractorlar seÃ§
- **`celebrateLevelUp()` kaldÄ±rma** â†’ toast notification ile deÄŸiÅŸtir
- **KullanÄ±lan kelimeleri takip et** â†’ `Set` ile tekrar engelleme

##### AÅŸama 2: Filtreleme ve KonfigÃ¼rasyon

Test baÅŸlamadan Ã¶nce bir konfigÃ¼rasyon ekranÄ±:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš¡ HÄ±z Testi AyarlarÄ±          â”‚
â”‚                                 â”‚
â”‚  YÃ¶n:    [ENâ†’TR â–¾]              â”‚
â”‚  Seviye: [TÃ¼mÃ¼ â–¾]              â”‚
â”‚  TÃ¼r:    [TÃ¼mÃ¼ â–¾]              â”‚
â”‚  SÃ¼re:   [60s â–¾]               â”‚
â”‚                                 â”‚
â”‚  [ğŸš€ BaÅŸla]                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Ã‡ift yÃ¶n: ENâ†’TR / TRâ†’EN / KarÄ±ÅŸÄ±k
- CEFR: A1, A2, B1, B2, TÃ¼mÃ¼
- TÃ¼r: Noun, Verb, Adjective, TÃ¼mÃ¼
- SÃ¼re: 30s, 60s, 90s, 120s

##### AÅŸama 3: Oyun Mekanikleri

- **Combo sistemi:** 3 ardÄ±ÅŸÄ±k doÄŸru â†’ "ğŸ”¥ Combo x3" XP Ã§arpanÄ±
- **Streak efekti:** ArdÄ±ÅŸÄ±k doÄŸrularda ekranda ateÅŸ emojileri + XP multiplier (x2, x3, x5)
- **Artan zorluk:** Her 5 doÄŸruda seÃ§enek sayÄ±sÄ± artabilir (4â†’5â†’6)
- **Kelime tÃ¼rÃ¼ badge:** Soru kartÄ±nda kelime yanÄ±nda renk kodlu badge

##### AÅŸama 4: SonuÃ§ ve KayÄ±t

- **DetaylÄ± sonuÃ§ ekranÄ±:** YanlÄ±ÅŸ bilinen kelimelerin listesi (kelime + doÄŸru anlam)
- **YanlÄ±ÅŸlarÄ± SRS'e ekle:** "Bu kelimeleri tekrar kuyruÄŸuna ekle" butonu
- **Leaderboard:** localStorage'da son 10 skor (tarih + skor + doÄŸruluk + sÃ¼re)
- **Pay butonu:** "Benim skorum: 15/18 (%83) â€” 60 saniyede!" mesajÄ± kopyalama

#### ğŸ“ HÄ±z Testi Dosya DeÄŸiÅŸiklikleri

| Dosya | DeÄŸiÅŸiklik |
|---|---|
| [challenge.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/challenge.js) | KonfigÃ¼rasyon ekranÄ±, combo sistemi, detaylÄ± sonuÃ§, leaderboard |
| [utils.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/utils.js) | `fisherYatesShuffle()` yardÄ±mcÄ± fonksiyonu |
| [style.css](file:///Users/kursataknc/Documents/GitHub/english-projet/src/styles/style.css) | Combo animasyonu, leaderboard tablosu, konfigÃ¼rasyon ekranÄ± stilleri |

---

### 13.5. ğŸ“– SÃ¶zlÃ¼k ModÃ¼lÃ¼ â€” KapsamlÄ± Analiz ve Ä°yileÅŸtirme

---

#### ğŸ“‹ Mevcut Durum Raporu ([dictionary.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js) â€” 162 satÄ±r)

**Dosya:** [dictionary.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js)

| Ã–zellik | Mevcut Durum |
|---|---|
| API kaynaÄŸÄ± | Free Dictionary API + MyMemory Ã§eviri |
| GÃ¶sterilen bilgi | Kelime, fonetik, Ä°ngilizce tanÄ±m, TÃ¼rkÃ§e Ã§eviri |
| Ses Ã§alma | âœ… Dictionary API'den MP3 |
| Web Speech fallback | âŒ Yok (ses yoksa buton gizlenir) |
| EÅŸ anlamlÄ±lar | âŒ GÃ¶sterilmiyor |
| Ã–rnek cÃ¼mle | âŒ GÃ¶sterilmiyor |
| Kelime tÃ¼rÃ¼ | âŒ GÃ¶sterilmiyor |
| Arama geÃ§miÅŸi | âŒ Yok |
| SRS entegrasyonu | âŒ Yok |
| vocabData baÄŸlantÄ±sÄ± | âŒ Yok |

**BaÄŸÄ±mlÄ±lÄ±klar:**

- Kendi [fetchDefinition()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js#125-142) ve [fetchTurkish()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js#143-156) fonksiyonlarÄ± var â€” [services.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js)'teki [fetchDictionary()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#16-67)'dan **baÄŸÄ±msÄ±z** (duplicate logic)

---

#### ğŸ” Tespit Edilen Sorunlar (10 Madde)

##### ğŸ—ï¸ Mimari / Kod

**1. Duplicate API MantÄ±ÄŸÄ±**
[dictionary.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js) kendi [fetchDefinition()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js#125-142) fonksiyonunu tanÄ±mlÄ±yor (satÄ±r 125â€“141), ama [services.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js)'te zaten daha zengin bir [fetchDictionary()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#16-67) mevcut. Ä°ki farklÄ± yerde aynÄ± API Ã§aÄŸrÄ±lÄ±yor â€” bakÄ±m zorluÄŸu yaratÄ±r.

**2. API Timeout Yok**

```javascript
const res = await fetch(`https://api.dictionaryapi.dev/...`);
```

Hem Dictionary hem MyMemory API Ã§aÄŸrÄ±larÄ±nda timeout yok. YavaÅŸ aÄŸda kullanÄ±cÄ± "AranÄ±yor..." yazÄ±sÄ±nÄ± sonsuza kadar gÃ¶rÃ¼r.

**3. TÃ¼rkÃ§e DeÄŸiÅŸken Ä°simleri**

```javascript
let sesDosyasi = "";
async function kartaYazdir(kelime) { ... }
function sesCal() { ... }
```

Kodun geri kalanÄ± Ä°ngilizce fonksiyon/deÄŸiÅŸken adlarÄ± kullanÄ±rken, [dictionary.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js) TÃ¼rkÃ§e isimlendirme kullanÄ±yor (inconsistency).

**4. `sesDosyasi` Global State**
ModÃ¼l seviyesinde `let sesDosyasi` ile ses URL'si tutuluyor. Cleanup yok â€” modÃ¼lden Ã§Ä±kÄ±p geri dÃ¶nÃ¼nce eski deÄŸer kalabilir.

##### ğŸ“š Ä°Ã§erik Eksiklikleri

**5. Sadece Ä°lk TanÄ±m GÃ¶steriliyor**

```javascript
definition: ilk.meanings[0].definitions[0].definition
```

Dictionary API aslÄ±nda birden fazla anlam ve tanÄ±m dÃ¶ndÃ¼rÃ¼r (Ã¶r. "run" â€” fiil olarak 15+ tanÄ±m, isim olarak 10+ tanÄ±m). Sadece ilk anlam alÄ±nÄ±yor.

**6. EÅŸ AnlamlÄ±lar / ZÄ±t AnlamlÄ±lar GÃ¶sterilmiyor**
Dictionary API `synonyms` ve `antonyms` dÃ¶ndÃ¼rÃ¼r ama bunlar [fetchDefinition()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js#125-142)'da alÄ±nmÄ±yor.

**7. Ã–rnek CÃ¼mle GÃ¶sterilmiyor**
API'den gelen [example](file:///Users/kursataknc/Documents/GitHub/english-projet/.env.example) field'Ä± da alÄ±nmÄ±yor. Kelimenin cÃ¼mle iÃ§inde nasÄ±l kullanÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶rmek Ã¶ÄŸrenme iÃ§in kritik.

**8. Kelime TÃ¼rÃ¼ (Part of Speech) GÃ¶sterilmiyor**
API `meanings[].partOfSpeech` dÃ¶ndÃ¼rÃ¼r (noun, verb, adjective...). Bu bilgi kullanÄ±cÄ±ya gÃ¶sterilmiyor.

##### ğŸ¨ UX Eksiklikleri

**9. Ses Butonu: Web Speech API Fallback Yok**
Dictionary API'den ses URL'si gelmediyse buton tamamen gizleniyor. Oysa [services.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js)'te [playPronunciation()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#99-112) zaten Web Speech API fallback'i iÃ§eriyor.

**10. Arama GeÃ§miÅŸi ve SRS Entegrasyonu Yok**

- KullanÄ±cÄ±nÄ±n daha Ã¶nce aradÄ±ÄŸÄ± kelimeler kaydedilmiyor
- Aranan kelimeyi "ğŸ”– Kaydet" / "ğŸ“Œ SRS'e Ekle" gibi bir butonla Ã¶ÄŸrenme kuyruÄŸuna ekleme yok
- vocabData'da varsa, kelimenin zaten bilinen bir kelime olduÄŸunu gÃ¶sterme yok

---

#### ğŸ› ï¸ Ã‡Ã¶zÃ¼m PlanÄ± â€” 3 AÅŸama

##### AÅŸama 1: Mimari DÃ¼zeltme

**1a. [services.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js)'i Kullan**
[dictionary.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js)'teki [fetchDefinition()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js#125-142) kaldÄ±rÄ±p yerine [services.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js)'teki [fetchDictionary()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#16-67) ve [playPronunciation()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#99-112) import edilerek kullanÄ±lmalÄ±. Duplicate logic ortadan kalkar.

**1b. API Timeout Ekleme**

```javascript
const controller = new AbortController();
const timeout = setTimeout(() => controller.abort(), 5000);
const res = await fetch(url, { signal: controller.signal });
clearTimeout(timeout);
```

**1c. DeÄŸiÅŸken Ä°simleri Ä°ngilizceleÅŸtirme**
`sesDosyasi` â†’ `audioUrl`, [kartaYazdir](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js#62-124) â†’ `displayResult`, [sesCal](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js#157-162) â†’ `playAudio`

##### AÅŸama 2: Ä°Ã§erik ZenginleÅŸtirme

SÃ¶zlÃ¼k kartÄ±nÄ± geniÅŸletme â€” tÃ¼m API verilerini gÃ¶sterme:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” apple                       â”‚
â”‚  /ËˆÃ¦p.É™l/  ğŸ”Š Dinle              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  ğŸ“ noun                         â”‚
â”‚  ğŸ‡¬ğŸ‡§ A round fruit with red or  â”‚
â”‚     green skin and white flesh   â”‚
â”‚  ğŸ‡¹ğŸ‡· elma                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  ğŸ’¬ "I ate an apple for lunch"   â”‚
â”‚  ğŸ”— EÅŸ anlamlÄ±: fruit, crop     â”‚
â”‚  âŒ ZÄ±t anlamlÄ±: â€”               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  ğŸ“ DiÄŸer anlamlar (2)   [gÃ¶ster]â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚
â”‚  [ğŸ“Œ SRS'e Ekle]  [ğŸ“‹ GeÃ§miÅŸ]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- Birden fazla tanÄ±m â†’ "DiÄŸer anlamlar" accordion
- Part of speech badge (renk kodlu)
- EÅŸ anlamlÄ±lar + zÄ±t anlamlÄ±lar
- Ã–rnek cÃ¼mle
- Web Speech API fallback (her zaman ses butonu gÃ¶ster)

##### AÅŸama 3: SRS ve GeÃ§miÅŸ Entegrasyonu

**3a. Arama GeÃ§miÅŸi**
Son 20 aranan kelime `localStorage`'da tutulur. SÃ¶zlÃ¼k sayfasÄ±nda "ğŸ“‹ Son Aramalar" bÃ¶lÃ¼mÃ¼ â€” kelimeye tÄ±klayÄ±nca tekrar detay gÃ¶sterilir.

**3b. vocabData BaÄŸlantÄ±sÄ±**
Aranan kelime `vocabData`'da varsa:

- "âœ… Bu kelime kelime havuzunda mevcut" mesajÄ±
- Kelimenin CEFR seviyesi ve TÃ¼rkÃ§e anlamÄ± gÃ¶sterilir
- SRS durumu: "Ã–ÄŸrenildi âœ… / Ã–ÄŸreniliyor ğŸ“– / HenÃ¼z baÅŸlanmadÄ± â­•"

**3c. SRS'e Ekleme**
"ğŸ“Œ Tekrar KuyruÄŸuna Ekle" butonu â€” `vocabData`'daki kelime ise [reviewWord(id, 0)](file:///Users/kursataknc/Documents/GitHub/english-projet/src/features/srs.js#80-88) ile SRS'e ekler. EÄŸer `vocabData`'da yoksa bilgilendirir.

#### ğŸ“ SÃ¶zlÃ¼k ModÃ¼lÃ¼ Dosya DeÄŸiÅŸiklikleri

| Dosya | DeÄŸiÅŸiklik |
|---|---|
| [dictionary.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/components/dictionary.js) | [services.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js) import, timeout, zengin kart UI, arama geÃ§miÅŸi, SRS entegrasyonu |
| [services.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js) | [fetchDictionary()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js#16-67) â€” ek alanlar: antonyms, multiple meanings |
| [style.css](file:///Users/kursataknc/Documents/GitHub/english-projet/src/styles/style.css) | SÃ¶zlÃ¼k kartÄ± geniÅŸletme stilleri, accordion, geÃ§miÅŸ listesi |

---

### 14. ğŸ“Š DetaylÄ± Ä°statistik Paneli (Yeni)

**Problem:** Dashboard'da temel XP ve seviye var ama derinlemesine analiz yok.

**Ã‡Ã¶zÃ¼m:**

- **Kelime tÃ¼rÃ¼ daÄŸÄ±lÄ±mÄ±:** Noun %45, Verb %30, Adj %20, Other %5 â€” Pasta grafik
- **CEFR seviye ilerleme:** A1: %90 Ã¶ÄŸrenildi, A2: %60, B1: %30 â€” Progress bar
- **GÃ¼nlÃ¼k/haftalÄ±k Ã§alÄ±ÅŸma sÃ¼resi tahmini:** XP kazanÄ±mÄ± Ã¼zerinden
- **ZayÄ±f kategoriler:** Hangi konuda en Ã§ok hata yapÄ±lÄ±yor (errorAnalytics entegrasyonu)
- **Kelime Ã¶ÄŸrenme hÄ±zÄ±:** Son 7 gÃ¼nde kaÃ§ yeni kelime ezberlenmiÅŸ (SRS verisi)

---

### 15. ğŸ§  BaÄŸlam Ä°Ã§inde Ã–ÄŸrenme (Context Learning) (Yeni)

**Problem:** Kelimeler izole olarak Ã¶ÄŸreniliyor, cÃ¼mle iÃ§inde kullanÄ±mÄ± gÃ¶sterilmiyor.

**Ã‡Ã¶zÃ¼m â€” Her kelime iÃ§in Ã¶rnek cÃ¼mle eklemek:**

[data.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/data.js)'e [example](file:///Users/kursataknc/Documents/GitHub/english-projet/.env.example) field'Ä± eklenmesi:

```javascript
{ 
  id: 1, word: "cat", meaning: "kedi", 
  type: "noun", level: "A1",
  example: "The cat is sleeping on the sofa."
}
```

- Flashcard arka yÃ¼zÃ¼nde Ã¶rnek cÃ¼mle gÃ¶sterilir
- Kelime arama sonuÃ§larÄ±nda gÃ¶rÃ¼nÃ¼r
- EÅŸleÅŸtirme oyununda ipucu olarak kullanÄ±labilir

---

### 16. ğŸ® Kelime Zinciri Oyunu (Word Chain) (Yeni)

**Yeni oyun mekaniÄŸi:**

- Bir kelime gÃ¶sterilir (Ã¶rn: "apple")
- KullanÄ±cÄ±, kelimenin **son harfi** ile baÅŸlayan yeni bir Ä°ngilizce kelime yazmalÄ± (Ã¶rn: "elephant")
- Zincir ne kadar uzun olursa skor o kadar yÃ¼ksek
- vocabData'dan doÄŸrulama yapÄ±lÄ±r
- 10 saniye sÃ¼re sÄ±nÄ±rÄ± her kelime iÃ§in

---

### 17. ğŸ”€ Kelime Ailesi Egzersizi (Word Families) (Yeni)

**Neden:** Ä°ngilizce'de bir kÃ¶k kelimeden tÃ¼reyen farklÄ± formlarÄ± bilmek Ã¶nemlidir.

Ã–rnek:

```
act â†’ action (n.) â†’ active (adj.) â†’ actively (adv.) â†’ activate (v.)
```

- KÃ¶k kelime verilir â†’ TÃ¼revlerini bulmak gerekir
- TÃ¼r dÃ¶nÃ¼ÅŸÃ¼mÃ¼nÃ¼ (noun â†’ verb â†’ adjective) anlama
- BoÅŸluk doldurma: "She is a very ___ person." (act â†’ active)

---

### 18. ğŸ“… GÃ¼nlÃ¼k Kelime (Word of the Day) (Yeni)

- Dashboard'da her gÃ¼n farklÄ± bir kelime Ã¶ne Ã§Ä±karÄ±lÄ±r
- Kelime detayÄ±: anlam, tÃ¼r, Ã¶rnek cÃ¼mle, telaffuz, eÅŸanlamlÄ±lar
- Tarihe gÃ¶re determinstik seÃ§im (her kullanÄ±cÄ± aynÄ± gÃ¼nÃ¼n kelimesini gÃ¶rÃ¼r)
- "Biliyorum âœ“ / Bilmiyorum âœ—" ile SRS'e entegre olur

---

### 19. ğŸ” Fiil Ã‡ekim AlÄ±ÅŸtÄ±rmasÄ± (Verb Conjugation Drill) (Yeni)

Fiil veriliyor â†’ DoÄŸru Ã§ekimini yaz:

```
go â†’ Present: goes | Past: went | Past Participle: gone | Gerund: going
```

- Tense seÃ§imi: Present Simple, Past Simple, Present Perfect
- KiÅŸi seÃ§imi: He/She, They, I
- ZamanlÄ± drill modu

---

## ğŸ—ï¸ Uygulama Ã–nceliklendirme (Ã–nem SÄ±rasÄ±)

| Ã–ncelik | ModÃ¼l | Zorluk | Etki |
|---|---|---|---|
| ğŸ”´ P0 | Alfabe doÄŸrulama | Kolay | Bug fix |
| ğŸ”´ P0 | Kelime tÃ¼rÃ¼ badge'leri | Kolay | TÃ¼m modÃ¼llerde gÃ¶rÃ¼nÃ¼r |
| ğŸ”´ P0 | Alert â†’ Toast notification | Kolay | UX iyileÅŸtirmesi |
| ğŸ”´ P0 | Kelime modÃ¼lÃ¼: event listener sÄ±zÄ±ntÄ±sÄ± + duplicate kelime temizliÄŸi | Kolay | Bug fix |
| ğŸ”´ P0 | HÄ±z testi: Fisher-Yates shuffle + seÃ§enek Ã§akÄ±ÅŸmasÄ± + celebrateLevelUp fix | Kolay | Bug fix |
| ğŸ”´ P0 | SÃ¶zlÃ¼k: duplicate API kaldÄ±r â†’ [services.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/services.js) kullan + timeout ekle | Kolay | Mimari temizlik |
| ğŸ”´ P0 | Backend gÃ¼venlik: authMiddleware + rate limiting + CORS kÄ±sÄ±tlama | Kolay | GÃ¼venlik aÃ§Ä±ÄŸÄ± |
| ğŸŸ  P1 | Backend: DB ÅŸemasÄ± geniÅŸletme (srs_cards, module_progress, error_log) | Orta | Veri kalÄ±cÄ±lÄ±ÄŸÄ± |
| ğŸŸ  P1 | Backend: SRS sync API endpoint'leri | Orta | Cihazlar arasÄ± ilerleme |
| ğŸŸ  P1 | Okuma modÃ¼lÃ¼ geniÅŸletme (+12 metin, 4 aÅŸama) | Orta | Ä°Ã§erik Ã§arpanÄ± |
| ğŸŸ  P1 | Kelime modÃ¼lÃ¼: flashcard filtreleme + CEFR badge | Orta | KullanÄ±labilirlik |
| ğŸŸ  P1 | Kelime modÃ¼lÃ¼: type badge sistemi (tÃ¼m alt Ã¶zellikler) | Kolay | GÃ¶rsel Ã¶ÄŸrenme |
| ğŸŸ  P1 | HÄ±z testi: konfigÃ¼rasyon ekranÄ± (yÃ¶n, seviye, tÃ¼r, sÃ¼re filtresi) | Orta | Oynanabilirlik |
| ğŸŸ  P1 | HÄ±z testi: combo/streak sistemi + detaylÄ± sonuÃ§ ekranÄ± | Orta | Engagement |
| ğŸŸ  P1 | SÃ¶zlÃ¼k: zengin kart (Ã§oklu tanÄ±m, Ã¶rnek cÃ¼mle, eÅŸ/zÄ±t anlamlÄ±, POS badge) | Orta | Ä°Ã§erik kalitesi |
| ğŸŸ  P1 | CÃ¼mle sÄ±ralama: +50 cÃ¼mle, CEFR filtre, mobil touch desteÄŸi | Orta | Ä°Ã§erik + mobil |
| ğŸŸ¡ P2 | Backend: SyncManager + offline queue + misafirâ†’kayÄ±tlÄ± geÃ§iÅŸ | Zor | Senkronizasyon |
| ğŸŸ¡ P2 | Dinleme modÃ¼lÃ¼ yeniden tasarÄ±m | Zor | BÃ¼yÃ¼k iyileÅŸtirme |
| ğŸŸ¡ P2 | Kelime modÃ¼lÃ¼: eÅŸleÅŸtirme/bulmaca oyun iyileÅŸtirmeleri | Orta | Oyun mekaniÄŸi |
| ğŸŸ¡ P2 | Kelimeler iÃ§in Ã¶rnek cÃ¼mle ([example](file:///Users/kursataknc/Documents/GitHub/english-projet/.env.example) field) | Orta-Zor | BaÄŸlamsal Ã¶ÄŸrenme |
| ğŸŸ¡ P2 | SÃ¶zlÃ¼k: arama geÃ§miÅŸi + SRS entegrasyonu + vocabData baÄŸlantÄ±sÄ± | Orta | Entegrasyon |
| ğŸŸ¡ P2 | HÄ±z testi: leaderboard (localStorage) | Kolay | Motivasyon |
| ğŸŸ¡ P2 | DÃ¼zensiz fiiller tablosu | Orta | Gramer desteÄŸi |
| ğŸŸ¡ P2 | Phrasal verbs modÃ¼lÃ¼ | Orta | Ä°Ã§erik boÅŸluÄŸu |
| ğŸŸ¢ P3 | Deyimler modÃ¼lÃ¼ | Orta | B1+ kullanÄ±cÄ±lar |
| ğŸŸ¢ P3 | Yazma pratiÄŸi | Orta | Ãœretim becerisi |
| ğŸŸ¢ P3 | DetaylÄ± istatistik paneli | Orta | Motivasyon |
| ğŸŸ¢ P3 | GÃ¼nlÃ¼k kelime | Kolay | Engagement |
| ğŸ”µ P4 | Telaffuz deÄŸerlendirme | Zor | Web Speech API baÄŸÄ±mlÄ± |
| ğŸ”µ P4 | Kelime zinciri oyunu | Orta | EÄŸlence |
| ğŸ”µ P4 | Word families | Orta | Ä°leri seviye |
| ğŸ”µ P4 | Fiil Ã§ekim drill | Orta | Gramer desteÄŸi |

---

## ğŸ“ Dosya YapÄ±sÄ± DeÄŸiÅŸiklikleri

```
src/
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ data.js              â† example field ekleme + phrasal verbs + idioms + irregular verbs
â”‚   â””â”€â”€ utils.js             â† [NEW] validateEnglishInput(), getTypeBadgeHTML()
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ vocab.js             â† Type badge ekleme (flashcard, matching, puzzle)
â”‚   â”œâ”€â”€ challenge.js         â† Type badge + seviye/tÃ¼r filtresi + Ã§ift yÃ¶n
â”‚   â”œâ”€â”€ reading.js           â† 10+ yeni metin + cloze test modu
â”‚   â”œâ”€â”€ listening.js         â† Web Speech API ile diyalog sistemi
â”‚   â”œâ”€â”€ sentence-order.js    â† 30+ yeni cÃ¼mle + CEFR filtresi
â”‚   â”œâ”€â”€ grammar.js           â† Alfabe validasyonu
â”‚   â”œâ”€â”€ dictionary.js        â† Alfabe validasyonu
â”‚   â”œâ”€â”€ phrasal-verbs.js     â† [NEW] Phrasal verb egzersizleri
â”‚   â”œâ”€â”€ idioms.js            â† [NEW] Deyimler modÃ¼lÃ¼
â”‚   â”œâ”€â”€ irregular-verbs.js   â† [NEW] DÃ¼zensiz fiil drilli
â”‚   â”œâ”€â”€ writing.js           â† [NEW] Yazma pratiÄŸi
â”‚   â””â”€â”€ pronunciation.js     â† [NEW] Telaffuz karÅŸÄ±laÅŸtÄ±rma
â”œâ”€â”€ features/
â”‚   â””â”€â”€ toast.js             â† [NEW] In-app toast notification component
â””â”€â”€ styles/
    â””â”€â”€ index.css            â† Type badge ve toast stilleri
```

---

## âœ… DoÄŸrulama PlanÄ±

### TarayÄ±cÄ± ile Manuel Test

1. UygulamayÄ± `npm run dev` ile baÅŸlat
2. Her modÃ¼lÃ¼ sÄ±rayla aÃ§ ve yeni eklenen Ã¶ÄŸelerin gÃ¶rÃ¼nÃ¼rlÃ¼ÄŸÃ¼nÃ¼ kontrol et
3. Alfabe doÄŸrulama: TÃ¼rkÃ§e karakter girmeyi dene â†’ uyarÄ± geldiÄŸini doÄŸrula
4. Kelime tÃ¼rÃ¼ badge'lerinin flashcard, eÅŸleÅŸtirme, bulmaca ve hÄ±z testinde gÃ¶sterildiÄŸini doÄŸrula
5. Seviye atlama tetikleyerek alert yerine toast notification geldiÄŸini doÄŸrula

> [!IMPORTANT]
> Bu plan, yalnÄ±zca iÃ§erik ve Ä°ngilizce Ã¶ÄŸretim kalitesine odaklanmaktadÄ±r. TasarÄ±msal deÄŸiÅŸiklikler minimumda tutulmuÅŸtur (yalnÄ±zca type badge renkleri ve toast bildirimi iÃ§in gerekli CSS). Ä°steÄŸinize gÃ¶re Ã¶ncelikleri deÄŸiÅŸtirebilir veya belirli modÃ¼lleri Ã§Ä±karabiliriz.

---

## 20. ğŸ” KullanÄ±cÄ± GiriÅŸi ve Ä°lerleme Takibi â€” Backend AltyapÄ±sÄ±

---

### ğŸ“‹ Mevcut Durum Raporu

#### Zaten Mevcut Olan AltyapÄ±

| BileÅŸen | Dosya | Durum |
|---|---|---|
| JWT Auth (Register/Login) | [server.js](file:///Users/kursataknc/Documents/GitHub/english-projet/server/server.js) | âœ… Ã‡alÄ±ÅŸÄ±yor |
| bcrypt Åifre Hash | [server.js](file:///Users/kursataknc/Documents/GitHub/english-projet/server/server.js) | âœ… Var |
| `users` Tablosu | SQLite ([progress.db](file:///Users/kursataknc/Documents/GitHub/english-projet/progress.db)) | âœ… email, password_hash, display_name |
| `user_progress` Tablosu | SQLite ([progress.db](file:///Users/kursataknc/Documents/GitHub/english-projet/progress.db)) | âš ï¸ Temel (xp, level, streak, completed_activities) |
| Auth Modal UI | [auth.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/auth.js) | âœ… Login/Register/Misafir |
| Token Management | [auth.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/auth.js) | âœ… localStorage + JWT expiry check |
| Progress Server Sync | [progress.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/progress.js) | âš ï¸ xp/level/streak sync var, SRS yok |
| Auth Middleware | [server.js](file:///Users/kursataknc/Documents/GitHub/english-projet/server/server.js) | âœ… Bearer token doÄŸrulama |

#### HenÃ¼z Olmayan (Eksik) KÄ±sÄ±mlar

| BileÅŸen | Mevcut Durum |
|---|---|
| SRS Verisinin Server Sync'i | âŒ Tamamen localStorage (`srs_cards`) â€” cihaz deÄŸiÅŸince kaybolur |
| Hata AnalitiÄŸi (Error Analytics) Server Sync | âŒ Client-only |
| HÄ±z Testi Skor GeÃ§miÅŸi | âŒ Yok (henÃ¼z leaderboard yok) |
| ModÃ¼l BazlÄ± Ä°lerleme Takibi | âŒ Sadece `completed_activities` listesi var |
| KullanÄ±cÄ± Tercihleri Sync | âŒ Tema/ses tercihleri localStorage'da |
| Åifre SÄ±fÄ±rlama | âŒ Yok |
| Email DoÄŸrulama | âŒ Yok |
| API Rate Limiting | âŒ Yok |
| GÃ¼venli Progress Endpoint'leri | âŒ [authMiddleware](file:///Users/kursataknc/Documents/GitHub/english-projet/server/server.js#171-186) uygulanmamÄ±ÅŸ (herkes herkesin verisini okuyabilir) |

---

### ğŸ” Tespit Edilen Sorunlar (14 Madde)

#### ğŸ”’ Auth / GÃ¼venlik

**1. Progress API'leri KorumasÄ±z**

```javascript
// server.js â€” satÄ±r 83
app.get('/api/progress/:userId', (req, res) => { ... }
app.post('/api/progress/:userId', (req, res) => { ... }
```

Bu endpoint'lerde [authMiddleware](file:///Users/kursataknc/Documents/GitHub/english-projet/server/server.js#171-186) kullanÄ±lmÄ±yor. Herhangi biri `GET /api/progress/user_1` Ã§aÄŸrÄ±sÄ± yaparak baÅŸka bir kullanÄ±cÄ±nÄ±n verisini okuyabilir.

**2. `userId` Tahmin Edilebilir**

```javascript
// auth.js â€” satÄ±r 217
const userId = `user_${row[0]}`;  // user_1, user_2, user_3...
```

Auto-increment ID kullanÄ±mÄ±, kullanÄ±cÄ± numaralandÄ±rmasÄ±nÄ± tahmin edilebilir yapÄ±yor.

**3. JWT Secret Hardcoded Fallback**

```javascript
const JWT_SECRET = process.env.JWT_SECRET || 'english-app-secret-key-change-in-production';
```

`.env` yoksa sabit bir deÄŸer kullanÄ±lÄ±yor â€” gÃ¼venlik aÃ§Ä±ÄŸÄ±.

**4. CORS Tamamen AÃ§Ä±k**

```javascript
app.use(cors());
```

Herhangi bir origin'den API'ye istek gÃ¶nderilebilir.

**5. Rate Limiting Yok**
Login/register endpoint'lerinde brute-force korumasÄ± yok.

#### ğŸ—„ï¸ VeritabanÄ± / Åema

**6. `user_progress` Tablosu Ã‡ok Basit**
Sadece `xp`, `level`, `streak`, `completed_activities` tutuluyor. ModÃ¼l bazlÄ± ilerleme (okuma %60, kelime %40) yok.

**7. SRS Verisi Tablo Yok**
SM-2 algoritmasÄ±nÄ±n Ã¼rettiÄŸi per-kelime verileri (interval, easeFactor, repetitions, dueDate) hiÃ§bir tabloda saklanmÄ±yor. Tamamen `localStorage.srs_cards`'a yazÄ±lÄ±yor.

**8. Error Analytics Tablo Yok**
Hangi kelimelerde hata yapÄ±ldÄ±ÄŸÄ± kaydedilmiyor (server-side).

**9. `completed_activities` JSON String**

```sql
completed_activities TEXT  -- '["reading","vocab"]'
```

Filtreleme, sorgulama imkansÄ±z. AyrÄ± bir tablo olmalÄ±.

#### ğŸ”„ Frontend-Backend Senkronizasyon

**10. SRS: Sadece Client-Side**

```javascript
// srs.js â€” satÄ±r 26, 34
localStorage.getItem(SRS_KEY)
localStorage.setItem(SRS_KEY, JSON.stringify(cards))
```

1000 kelime Ã— SRS verisi = ~50KB JSON. Cihaz deÄŸiÅŸtiÄŸinde, tarayÄ±cÄ± temizlendiÄŸinde veya misafir modundan kayÄ±tlÄ± moda geÃ§ince tÃ¼m SRS ilerlemesi kaybolur.

**11. Progress Sync Tek YÃ¶nlÃ¼**
[progress.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/progress.js) sadece server'a yazÄ±yor (save). Server'dan okuma (login sonrasÄ± veri Ã§ekme) mevcut ama SRS verisini kapsamÄ±yor.

**12. Ã‡akÄ±ÅŸma Ã‡Ã¶zÃ¼mÃ¼ (Conflict Resolution) Yok**
KullanÄ±cÄ± iki cihazda Ã§alÄ±ÅŸÄ±rsa, son yazan kazanÄ±r â€” merge stratejisi yok.

**13. Misafir â†’ KayÄ±tlÄ± KullanÄ±cÄ± GeÃ§iÅŸi Sorunlu**
Misafir olarak biriken localStorage verisi (SRS, XP, completed activities) kayÄ±t olduktan sonra server'a aktarÄ±lmÄ±yor.

**14. Offline Mode Stratejisi Yok**
Server Ã§Ã¶ktÃ¼ÄŸÃ¼nde localStorage fallback Ã§alÄ±ÅŸÄ±yor ama tekrar Ã§evrimiÃ§i olunca yerel deÄŸiÅŸiklikleri gÃ¶ndermek (sync queue) implement edilmemiÅŸ.

---

### ğŸ› ï¸ Ã‡Ã¶zÃ¼m PlanÄ± â€” 4 AÅŸama

#### AÅŸama 1: GÃ¼venlik DÃ¼zeltmeleri (P0)

**1a. Progress Endpoint'lerini Koruma**

```javascript
// server.js
app.get('/api/progress/:userId', authMiddleware, (req, res) => {
    // KullanÄ±cÄ± sadece kendi verisine eriÅŸebilir
    if (req.user.userId !== req.params.userId) {
        return res.status(403).json({ error: 'Yetkisiz eriÅŸim' });
    }
    // ...
});
```

**1b. Rate Limiting**

```javascript
import rateLimit from 'express-rate-limit';

const authLimiter = rateLimit({
    windowMs: 15 * 60 * 1000, // 15 dakika
    max: 10, // max 10 istek
    message: { error: 'Ã‡ok fazla istek, lÃ¼tfen bekleyin' }
});

app.post('/api/auth/login', authLimiter, async (req, res) => { ... });
app.post('/api/auth/register', authLimiter, async (req, res) => { ... });
```

**1c. CORS KÄ±sÄ±tlama**

```javascript
app.use(cors({
    origin: process.env.ALLOWED_ORIGINS?.split(',') || ['http://localhost:3000'],
    credentials: true
}));
```

**1d. UUID KullanÄ±mÄ±**
`user_1`, `user_2` yerine `crypto.randomUUID()` ile tahmin edilemez ID'ler.

---

#### AÅŸama 2: VeritabanÄ± ÅemasÄ± GeniÅŸletme (P1)

Mevcut 2 tablo â†’ **5 tabloya** geniÅŸletme:

```sql
-- 1. MEVCUT â€” KullanÄ±cÄ±lar (gÃ¼ncelleme)
CREATE TABLE users (
    id TEXT PRIMARY KEY,              -- UUID (artÄ±k INTEGER deÄŸil)
    email TEXT UNIQUE NOT NULL,
    password_hash TEXT NOT NULL,
    display_name TEXT,
    avatar_url TEXT,
    preferred_level TEXT DEFAULT 'A1', -- CEFR tercih seviyesi
    theme TEXT DEFAULT 'light',
    sound_enabled INTEGER DEFAULT 1,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    last_login_at DATETIME
);

-- 2. MEVCUT â€” Genel Ä°lerleme (gÃ¼ncelleme)
CREATE TABLE user_progress (
    user_id TEXT PRIMARY KEY REFERENCES users(id),
    xp INTEGER DEFAULT 0,
    level INTEGER DEFAULT 1,
    streak INTEGER DEFAULT 0,
    longest_streak INTEGER DEFAULT 0,
    last_activity_date TEXT,
    total_study_time_minutes INTEGER DEFAULT 0,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP
);

-- 3. YENÄ° â€” SRS KartlarÄ± (per-kullanÄ±cÄ±, per-kelime)
CREATE TABLE srs_cards (
    user_id TEXT NOT NULL REFERENCES users(id),
    word_id TEXT NOT NULL,
    interval_days INTEGER DEFAULT 1,
    ease_factor REAL DEFAULT 2.5,
    repetitions INTEGER DEFAULT 0,
    due_date TEXT NOT NULL,
    last_reviewed TEXT,
    PRIMARY KEY (user_id, word_id)
);

-- 4. YENÄ° â€” ModÃ¼l BazlÄ± Ä°lerleme
CREATE TABLE module_progress (
    user_id TEXT NOT NULL REFERENCES users(id),
    module TEXT NOT NULL,    -- 'reading', 'vocab', 'grammar', 'listening', 'challenge'
    activity TEXT NOT NULL,  -- 'flashcard', 'matching', 'puzzle', 'cloze', 'speed_test'
    score INTEGER,
    accuracy REAL,           -- 0.0 - 1.0
    duration_seconds INTEGER,
    metadata TEXT,           -- JSON (yanlÄ±ÅŸ kelimeler listesi vb.)
    completed_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (user_id, module, activity, completed_at)
);

-- 5. YENÄ° â€” Hata AnalitiÄŸi
CREATE TABLE error_log (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id TEXT NOT NULL REFERENCES users(id),
    word_id TEXT NOT NULL,
    module TEXT NOT NULL,
    error_type TEXT,         -- 'wrong_answer', 'timeout', 'skip'
    context TEXT,            -- JSON (hangi seÃ§eneÄŸi seÃ§ti, doÄŸru cevap ne idi)
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP
);
```

**Ä°ndeksler:**

```sql
CREATE INDEX idx_srs_due ON srs_cards(user_id, due_date);
CREATE INDEX idx_module_progress ON module_progress(user_id, module);
CREATE INDEX idx_error_log ON error_log(user_id, word_id);
```

---

#### AÅŸama 3: API Endpoint'leri (P1)

##### SRS Sync API

| Method | Endpoint | AÃ§Ä±klama |
|---|---|---|
| `GET` | `/api/srs/due` | BugÃ¼n tekrar edilecek kelimeleri getir |
| `POST` | `/api/srs/review` | Bir kelimeyi tekrarla (SM-2 gÃ¼ncelle) |
| `GET` | `/api/srs/stats` | SRS istatistikleri (due, learning, mastered) |
| `PUT` | `/api/srs/bulk-sync` | TÃ¼m SRS verisini toplu gÃ¶nder (misafir â†’ kayÄ±tlÄ± geÃ§iÅŸi) |

##### ModÃ¼l Ä°lerleme API

| Method | Endpoint | AÃ§Ä±klama |
|---|---|---|
| `POST` | `/api/activity/complete` | Bir etkinlik tamamlamayÄ± kaydet |
| `GET` | `/api/stats/overview` | Genel istatistik paneli verisi |
| `GET` | `/api/stats/module/:name` | ModÃ¼l bazlÄ± detay |
| `GET` | `/api/stats/weak-words` | En Ã§ok hata yapÄ±lan kelimeler |
| `GET` | `/api/leaderboard/challenge` | HÄ±z testi skor tablosu |

##### Auth Ek Endpoint'ler

| Method | Endpoint | AÃ§Ä±klama |
|---|---|---|
| `PUT` | `/api/auth/profile` | Profil gÃ¼ncelle (displayName, avatar, tercihler) |
| `PUT` | `/api/auth/password` | Åifre deÄŸiÅŸtir |
| `DELETE` | `/api/auth/account` | Hesap sil |

---

#### AÅŸama 4: Frontend Sync Stratejisi (P2)

**Sync Mimarisi:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SRS / Progress â”‚â”€â”€â”€â”€â–¶â”‚  SyncManager â”‚â”€â”€â”€â”€â–¶â”‚  Server API â”‚
â”‚   (localStorage) â”‚â—€â”€â”€â”€â”€â”‚  (queue)     â”‚â—€â”€â”€â”€â”€â”‚  (SQLite)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚
        â”‚  Offline Mode         â”‚  Online: sync every 30s
        â”‚  localStorage'a       â”‚  + on activity complete
        â”‚  yaz, queue'ya ekle   â”‚  + on page unload
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**`SyncManager` SÄ±nÄ±fÄ±** (`sync.js` â€” YENÄ° dosya):

```javascript
class SyncManager {
    constructor() {
        this.queue = JSON.parse(localStorage.getItem('sync_queue') || '[]');
        this.syncInterval = null;
    }

    // Olay kuyruÄŸuna ekle (offline'da Ã§alÄ±ÅŸÄ±r)
    enqueue(action, data) {
        this.queue.push({ action, data, timestamp: Date.now() });
        localStorage.setItem('sync_queue', JSON.stringify(this.queue));
    }

    // KuyruÄŸu sunucuya gÃ¶nder
    async flush() {
        if (!navigator.onLine || this.queue.length === 0) return;
        const batch = [...this.queue];
        try {
            await apiRequest('POST', '/api/sync/batch', { events: batch });
            this.queue = [];
            localStorage.setItem('sync_queue', '[]');
        } catch { /* retry next interval */ }
    }

    // Ã‡akÄ±ÅŸma Ã§Ã¶zÃ¼mÃ¼: son yazma tarihi kazanÄ±r
    async pullAndMerge() {
        const serverData = await apiRequest('GET', '/api/sync/pull');
        // merge logic: server.updatedAt > local.updatedAt ? server : local
    }

    start() {
        this.syncInterval = setInterval(() => this.flush(), 30000);
        window.addEventListener('beforeunload', () => this.flush());
        window.addEventListener('online', () => this.flush());
    }
}
```

**Misafir â†’ KayÄ±tlÄ± KullanÄ±cÄ± GeÃ§iÅŸi:**

1. Misafir olarak biriken `localStorage` verileri (SRS, XP, completedActivities) toplanÄ±r
2. KayÄ±t/giriÅŸ sonrasÄ± `PUT /api/srs/bulk-sync` ile tÃ¼m SRS kartlarÄ± aktarÄ±lÄ±r
3. `POST /api/progress/:userId` ile XP/level senkronize edilir
4. localStorage temizlenir, artÄ±k server kaynak olur

---

### ğŸ“ Dosya DeÄŸiÅŸiklikleri Ã–zeti

| Dosya | DeÄŸiÅŸiklik |
|---|---|
| [server.js](file:///Users/kursataknc/Documents/GitHub/english-projet/server/server.js) | Yeni tablolar, SRS/activity/stats endpoint'leri, authMiddleware uygulama, rate limiting, CORS kÄ±sÄ±tlama |
| [auth.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/auth.js) | UUID userId, profil gÃ¼ncelleme, misafirâ†’kayÄ±tlÄ± geÃ§iÅŸ sync |
| [srs.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/features/srs.js) | `SyncManager` entegrasyonu: [saveCards()](file:///Users/kursataknc/Documents/GitHub/english-projet/src/features/srs.js#32-36) â†’ server'a da yaz |
| [progress.js](file:///Users/kursataknc/Documents/GitHub/english-projet/src/core/progress.js) | ModÃ¼l bazlÄ± ilerleme kaydetme, `SyncManager` kullanÄ±mÄ± |
| **[YENÄ°]** `src/core/sync.js` | `SyncManager` sÄ±nÄ±fÄ± â€” offline queue + batch sync |
| [package.json](file:///Users/kursataknc/Documents/GitHub/english-projet/package.json) | `express-rate-limit` baÄŸÄ±mlÄ±lÄ±ÄŸÄ± |
| [.env.example](file:///Users/kursataknc/Documents/GitHub/english-projet/.env.example) | `JWT_SECRET`, `ALLOWED_ORIGINS` belgelendirme |

### ğŸ”§ Gerekli npm Paketleri

| Paket | AmaÃ§ | Mevcut? |
|---|---|---|
| `express` | HTTP server | âœ… Var |
| `sql.js` | SQLite (WASM) | âœ… Var |
| `bcryptjs` | Åifre hash | âœ… Var |
| `jsonwebtoken` | JWT token | âœ… Var |
| `cors` | CORS yÃ¶netimi | âœ… Var |
| `dotenv` | Ã‡evre deÄŸiÅŸkenleri | âœ… Var |
| `express-rate-limit` | Brute-force korumasÄ± | âŒ **Eklenmeli** |
| `uuid` (opsiyonel) | UUID Ã¼retimi | âŒ `crypto.randomUUID()` ile de yapÄ±labilir |
